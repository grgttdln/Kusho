<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/wear/src/main/java/com/example/kusho/presentation/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/wear/src/main/java/com/example/kusho/presentation/MainActivity.kt" />
              <option name="originalContent" value="package com.example.kusho.presentation&#10;&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.layout.width&#10;import androidx.compose.foundation.layout.offset&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.draw.rotate&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.wear.tooling.preview.devices.WearDevices&#10;import com.example.kusho.R&#10;import com.example.kusho.common.MessageService&#10;import com.google.android.gms.wearable.NodeClient&#10;import androidx.wear.compose.material.Text&#10;import androidx.wear.compose.material.MaterialTheme&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.compose.foundation.Canvas&#10;import androidx.compose.ui.geometry.Offset&#10;import androidx.compose.ui.graphics.Path&#10;import androidx.compose.ui.graphics.drawscope.Stroke&#10;import androidx.compose.ui.graphics.nativeCanvas&#10;import android.graphics.Paint&#10;import androidx.compose.ui.platform.LocalDensity&#10;import kotlin.math.PI&#10;import kotlin.math.cos&#10;import kotlin.math.sin&#10;&#10;class MainActivity : ComponentActivity() {&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        setTheme(android.R.style.Theme_DeviceDefault)&#10;&#10;        setContent {&#10;            WearApp(messageService = null, nodeClient = null)&#10;        }&#10;    }&#10;}&#10;&#10;@Suppress(&quot;UNUSED_PARAMETER&quot;)&#10;@Composable&#10;fun WearApp(messageService: MessageService?, nodeClient: NodeClient?) {&#10;    MaterialTheme {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(Color.Black),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            // Center logo&#10;            Image(&#10;                painter = painterResource(id = R.drawable.ic_kusho),&#10;                contentDescription = &quot;Kusho Logo&quot;,&#10;                modifier = Modifier.size(100.dp),&#10;                contentScale = ContentScale.Fit&#10;            )&#10;&#10;            // Bottom - Practice Mode (circular arc pill)&#10;            val density = LocalDensity.current&#10;            Canvas(&#10;                modifier = Modifier.fillMaxSize()&#10;            ) {&#10;                val centerX = size.width / 2f&#10;                val centerY = size.height / 2f&#10;                val radius = size.width / 2.3f&#10;&#10;                // ===== PRACTICE MODE (Bottom - Blue) =====&#10;                val practiceArcPath = Path()&#10;                val practiceSweepAngle = 70f&#10;                val practiceStartAngle = 90f - (practiceSweepAngle / 2f)&#10;&#10;                practiceArcPath.addArc(&#10;                    oval = androidx.compose.ui.geometry.Rect(&#10;                        left = centerX - radius,&#10;                        top = centerY - radius,&#10;                        right = centerX + radius,&#10;                        bottom = centerY + radius&#10;                    ),&#10;                    startAngleDegrees = practiceStartAngle,&#10;                    sweepAngleDegrees = practiceSweepAngle&#10;                )&#10;&#10;                drawPath(&#10;                    path = practiceArcPath,&#10;                    color = Color(0xFF42A5F5),&#10;                    style = Stroke(&#10;                        width = 24.dp.toPx(),&#10;                        cap = androidx.compose.ui.graphics.StrokeCap.Round&#10;                    )&#10;                )&#10;&#10;                // Practice Mode Text&#10;                val practiceTextPaint = Paint().apply {&#10;                    color = android.graphics.Color.WHITE&#10;                    textSize = with(density) { 13.sp.toPx() }&#10;                    textAlign = Paint.Align.CENTER&#10;                    isAntiAlias = true&#10;                }&#10;&#10;                val practiceText = &quot;Practice Mode&quot;.reversed()&#10;                val arcStrokeWidth = 16.dp.toPx()&#10;                val practiceTextRadius = radius + (arcStrokeWidth / 4f)&#10;                val letterSpacingFactor = 1.15f&#10;&#10;                val practiceCharWidths = FloatArray(practiceText.length)&#10;                practiceTextPaint.getTextWidths(practiceText, practiceCharWidths)&#10;                val practiceTotalTextWidth = practiceCharWidths.sum() * letterSpacingFactor&#10;                val practiceTextArcAngle = (practiceTotalTextWidth / (2f * PI.toFloat() * practiceTextRadius)) * 360f&#10;                val practiceTextStartAngle = practiceStartAngle + practiceSweepAngle - (practiceSweepAngle - practiceTextArcAngle) / 2f&#10;&#10;                var practiceCurrentAngle = practiceTextStartAngle&#10;                for (i in practiceText.indices.reversed()) {&#10;                    val char = practiceText[i].toString()&#10;                    val charWidth = practiceCharWidths[i] * letterSpacingFactor&#10;                    val charAngle = (charWidth / (2f * PI.toFloat() * practiceTextRadius)) * 360f&#10;&#10;                    practiceCurrentAngle -= charAngle / 2f&#10;&#10;                    val angleInRadians = Math.toRadians(practiceCurrentAngle.toDouble())&#10;                    val x = centerX + practiceTextRadius * cos(angleInRadians).toFloat()&#10;                    val y = centerY + practiceTextRadius * sin(angleInRadians).toFloat()&#10;&#10;                    drawContext.canvas.nativeCanvas.save()&#10;                    drawContext.canvas.nativeCanvas.translate(x, y)&#10;                    drawContext.canvas.nativeCanvas.rotate(practiceCurrentAngle - 90f)&#10;                    drawContext.canvas.nativeCanvas.drawText(char, 0f, 0f, practiceTextPaint)&#10;                    drawContext.canvas.nativeCanvas.restore()&#10;&#10;                    practiceCurrentAngle -= charAngle / 2f&#10;                }&#10;&#10;                // ===== TUTORIAL MODE (Left - Yellow) =====&#10;                val tutorialArcPath = Path()&#10;                val tutorialSweepAngle = 70f&#10;                val tutorialStartAngle = 180f - (tutorialSweepAngle / 2f)&#10;&#10;                tutorialArcPath.addArc(&#10;                    oval = androidx.compose.ui.geometry.Rect(&#10;                        left = centerX - radius,&#10;                        top = centerY - radius,&#10;                        right = centerX + radius,&#10;                        bottom = centerY + radius&#10;                    ),&#10;                    startAngleDegrees = tutorialStartAngle,&#10;                    sweepAngleDegrees = tutorialSweepAngle&#10;                )&#10;&#10;                drawPath(&#10;                    path = tutorialArcPath,&#10;                    color = Color(0xFFFFC107),&#10;                    style = Stroke(&#10;                        width = 24.dp.toPx(),&#10;                        cap = androidx.compose.ui.graphics.StrokeCap.Round&#10;                    )&#10;                )&#10;&#10;                // Tutorial Mode Text&#10;                val tutorialTextPaint = Paint().apply {&#10;                    color = android.graphics.Color.WHITE&#10;                    textSize = with(density) { 13.sp.toPx() }&#10;                    textAlign = Paint.Align.CENTER&#10;                    isAntiAlias = true&#10;                }&#10;&#10;                val tutorialText = &quot;Tutorial Mode&quot;.reversed()&#10;                val tutorialTextRadius = radius + (arcStrokeWidth / 4f)&#10;&#10;                val tutorialCharWidths = FloatArray(tutorialText.length)&#10;                tutorialTextPaint.getTextWidths(tutorialText, tutorialCharWidths)&#10;                val tutorialTotalTextWidth = tutorialCharWidths.sum() * letterSpacingFactor&#10;                val tutorialTextArcAngle = (tutorialTotalTextWidth / (2f * PI.toFloat() * tutorialTextRadius)) * 360f&#10;                val tutorialTextStartAngle = tutorialStartAngle + tutorialSweepAngle - (tutorialSweepAngle - tutorialTextArcAngle) / 2f&#10;&#10;                var tutorialCurrentAngle = tutorialTextStartAngle&#10;                for (i in tutorialText.indices.reversed()) {&#10;                    val char = tutorialText[i].toString()&#10;                    val charWidth = tutorialCharWidths[i] * letterSpacingFactor&#10;                    val charAngle = (charWidth / (2f * PI.toFloat() * tutorialTextRadius)) * 360f&#10;&#10;                    tutorialCurrentAngle -= charAngle / 2f&#10;&#10;                    val angleInRadians = Math.toRadians(tutorialCurrentAngle.toDouble())&#10;                    val x = centerX + tutorialTextRadius * cos(angleInRadians).toFloat()&#10;                    val y = centerY + tutorialTextRadius * sin(angleInRadians).toFloat()&#10;&#10;                    drawContext.canvas.nativeCanvas.save()&#10;                    drawContext.canvas.nativeCanvas.translate(x, y)&#10;                    drawContext.canvas.nativeCanvas.rotate(tutorialCurrentAngle - 90f)&#10;                    drawContext.canvas.nativeCanvas.drawText(char, 0f, 0f, tutorialTextPaint)&#10;                    drawContext.canvas.nativeCanvas.restore()&#10;&#10;                    tutorialCurrentAngle -= charAngle / 2f&#10;                }&#10;&#10;                // ===== LEARN MODE (Right - Purple) =====&#10;                val learnArcPath = Path()&#10;                val learnSweepAngle = 70f&#10;                val learnStartAngle = 0f - (learnSweepAngle / 2f)&#10;&#10;                learnArcPath.addArc(&#10;                    oval = androidx.compose.ui.geometry.Rect(&#10;                        left = centerX - radius,&#10;                        top = centerY - radius,&#10;                        right = centerX + radius,&#10;                        bottom = centerY + radius&#10;                    ),&#10;                    startAngleDegrees = learnStartAngle,&#10;                    sweepAngleDegrees = learnSweepAngle&#10;                )&#10;&#10;                drawPath(&#10;                    path = learnArcPath,&#10;                    color = Color(0xFFB388FF),&#10;                    style = Stroke(&#10;                        width = 24.dp.toPx(),&#10;                        cap = androidx.compose.ui.graphics.StrokeCap.Round&#10;                    )&#10;                )&#10;&#10;                // Learn Mode Text&#10;                val learnTextPaint = Paint().apply {&#10;                    color = android.graphics.Color.WHITE&#10;                    textSize = with(density) { 13.sp.toPx() }&#10;                    textAlign = Paint.Align.CENTER&#10;                    isAntiAlias = true&#10;                }&#10;&#10;                val learnText = &quot;Learn Mode&quot;.reversed()&#10;                val learnTextRadius = radius + (arcStrokeWidth / 4f)&#10;&#10;                val learnCharWidths = FloatArray(learnText.length)&#10;                learnTextPaint.getTextWidths(learnText, learnCharWidths)&#10;                val learnTotalTextWidth = learnCharWidths.sum() * letterSpacingFactor&#10;                val learnTextArcAngle = (learnTotalTextWidth / (2f * PI.toFloat() * learnTextRadius)) * 360f&#10;                val learnTextStartAngle = learnStartAngle + learnSweepAngle - (learnSweepAngle - learnTextArcAngle) / 2f&#10;&#10;                var learnCurrentAngle = learnTextStartAngle&#10;                for (i in learnText.indices.reversed()) {&#10;                    val char = learnText[i].toString()&#10;                    val charWidth = learnCharWidths[i] * letterSpacingFactor&#10;                    val charAngle = (charWidth / (2f * PI.toFloat() * learnTextRadius)) * 360f&#10;&#10;                    learnCurrentAngle -= charAngle / 2f&#10;&#10;                    val angleInRadians = Math.toRadians(learnCurrentAngle.toDouble())&#10;                    val x = centerX + learnTextRadius * cos(angleInRadians).toFloat()&#10;                    val y = centerY + learnTextRadius * sin(angleInRadians).toFloat()&#10;&#10;                    drawContext.canvas.nativeCanvas.save()&#10;                    drawContext.canvas.nativeCanvas.translate(x, y)&#10;                    drawContext.canvas.nativeCanvas.rotate(learnCurrentAngle - 90f)&#10;                    drawContext.canvas.nativeCanvas.drawText(char, 0f, 0f, learnTextPaint)&#10;                    drawContext.canvas.nativeCanvas.restore()&#10;&#10;                    learnCurrentAngle -= charAngle / 2f&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(device = WearDevices.SMALL_ROUND, showSystemUi = true)&#10;@Composable&#10;fun DefaultPreview() {&#10;    WearApp(&#10;        messageService = null,&#10;        nodeClient = null&#10;    )&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.kusho.presentation&#10;&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.Canvas&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.wear.tooling.preview.devices.WearDevices&#10;import com.example.kusho.R&#10;import com.example.kusho.common.MessageService&#10;import com.google.android.gms.wearable.NodeClient&#10;import androidx.wear.compose.material.MaterialTheme&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.compose.ui.graphics.Path&#10;import androidx.compose.ui.graphics.drawscope.Stroke&#10;import androidx.compose.ui.graphics.drawscope.DrawScope&#10;import androidx.compose.ui.graphics.nativeCanvas&#10;import androidx.compose.ui.platform.LocalDensity&#10;import androidx.compose.ui.unit.Density&#10;import android.graphics.Paint&#10;import kotlin.math.PI&#10;import kotlin.math.cos&#10;import kotlin.math.sin&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setTheme(android.R.style.Theme_DeviceDefault)&#10;        setContent {&#10;            WearApp(messageService = null, nodeClient = null)&#10;        }&#10;    }&#10;}&#10;&#10;// Constants&#10;private const val ARC_STROKE_WIDTH = 24f&#10;private const val ARC_STROKE_WIDTH_DP = 16f&#10;private const val ARC_SWEEP_ANGLE = 70f&#10;private const val LETTER_SPACING_FACTOR = 1.15f&#10;private const val TEXT_SIZE_SP = 13f&#10;private const val LOGO_SIZE_DP = 100f&#10;private const val RADIUS_FACTOR = 2.3f&#10;&#10;// Arc positions (in degrees)&#10;private const val PRACTICE_MODE_ANGLE = 90f  // Bottom&#10;private const val TUTORIAL_MODE_ANGLE = 180f // Left&#10;private const val LEARN_MODE_ANGLE = 0f      // Right&#10;&#10;// Arc colors&#10;private val PracticeModeColor = Color(0xFF42A5F5)&#10;private val TutorialModeColor = Color(0xFFFFC107)&#10;private val LearnModeColor = Color(0xFFB388FF)&#10;&#10;@Suppress(&quot;UNUSED_PARAMETER&quot;)&#10;@Composable&#10;fun WearApp(messageService: MessageService?, nodeClient: NodeClient?) {&#10;    MaterialTheme {&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .background(Color.Black),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            // Center logo&#10;            Image(&#10;                painter = painterResource(id = R.drawable.ic_kusho),&#10;                contentDescription = &quot;Kusho Logo&quot;,&#10;                modifier = Modifier.size(LOGO_SIZE_DP.dp),&#10;                contentScale = ContentScale.Fit&#10;            )&#10;&#10;            // Draw mode arcs&#10;            val density = LocalDensity.current&#10;            Canvas(modifier = Modifier.fillMaxSize()) {&#10;                val centerX = size.width / 2f&#10;                val centerY = size.height / 2f&#10;                val radius = size.width / RADIUS_FACTOR&#10;&#10;                // Draw all three mode arcs&#10;                drawModeArc(&#10;                    centerX = centerX,&#10;                    centerY = centerY,&#10;                    radius = radius,&#10;                    centerAngle = PRACTICE_MODE_ANGLE,&#10;                    text = &quot;Practice Mode&quot;,&#10;                    color = PracticeModeColor,&#10;                    density = density&#10;                )&#10;&#10;                drawModeArc(&#10;                    centerX = centerX,&#10;                    centerY = centerY,&#10;                    radius = radius,&#10;                    centerAngle = TUTORIAL_MODE_ANGLE,&#10;                    text = &quot;Tutorial Mode&quot;,&#10;                    color = TutorialModeColor,&#10;                    density = density&#10;                )&#10;&#10;                drawModeArc(&#10;                    centerX = centerX,&#10;                    centerY = centerY,&#10;                    radius = radius,&#10;                    centerAngle = LEARN_MODE_ANGLE,&#10;                    text = &quot;Learn Mode&quot;,&#10;                    color = LearnModeColor,&#10;                    density = density&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;/**&#10; * Draws a circular arc pill with curved text for a mode button&#10; */&#10;private fun DrawScope.drawModeArc(&#10;    centerX: Float,&#10;    centerY: Float,&#10;    radius: Float,&#10;    centerAngle: Float,&#10;    text: String,&#10;    color: Color,&#10;    density: Density&#10;) {&#10;    val startAngle = centerAngle - (ARC_SWEEP_ANGLE / 2f)&#10;&#10;    // Draw the arc background&#10;    val arcPath = Path()&#10;    arcPath.addArc(&#10;        oval = androidx.compose.ui.geometry.Rect(&#10;            left = centerX - radius,&#10;            top = centerY - radius,&#10;            right = centerX + radius,&#10;            bottom = centerY + radius&#10;        ),&#10;        startAngleDegrees = startAngle,&#10;        sweepAngleDegrees = ARC_SWEEP_ANGLE&#10;    )&#10;&#10;    drawPath(&#10;        path = arcPath,&#10;        color = color,&#10;        style = Stroke(&#10;            width = ARC_STROKE_WIDTH.dp.toPx(),&#10;            cap = androidx.compose.ui.graphics.StrokeCap.Round&#10;        )&#10;    )&#10;&#10;    // Draw curved text along the arc&#10;    drawCurvedText(&#10;        text = text.reversed(),&#10;        centerX = centerX,&#10;        centerY = centerY,&#10;        radius = radius,&#10;        startAngle = startAngle,&#10;        sweepAngle = ARC_SWEEP_ANGLE,&#10;        density = density&#10;    )&#10;}&#10;&#10;/**&#10; * Draws text curved along a circular arc path&#10; */&#10;private fun DrawScope.drawCurvedText(&#10;    text: String,&#10;    centerX: Float,&#10;    centerY: Float,&#10;    radius: Float,&#10;    startAngle: Float,&#10;    sweepAngle: Float,&#10;    density: Density&#10;) {&#10;    val textPaint = Paint().apply {&#10;        color = android.graphics.Color.WHITE&#10;        textSize = with(density) { TEXT_SIZE_SP.sp.toPx() }&#10;        textAlign = Paint.Align.CENTER&#10;        isAntiAlias = true&#10;    }&#10;&#10;    val arcStrokeWidth = ARC_STROKE_WIDTH_DP.dp.toPx()&#10;    val textRadius = radius + (arcStrokeWidth / 4f)&#10;&#10;    // Calculate character widths and spacing&#10;    val charWidths = FloatArray(text.length)&#10;    textPaint.getTextWidths(text, charWidths)&#10;    val totalTextWidth = charWidths.sum() * LETTER_SPACING_FACTOR&#10;    val textArcAngle = (totalTextWidth / (2f * PI.toFloat() * textRadius)) * 360f&#10;    val textStartAngle = startAngle + sweepAngle - (sweepAngle - textArcAngle) / 2f&#10;&#10;    // Draw each character along the curve&#10;    var currentAngle = textStartAngle&#10;    for (i in text.indices.reversed()) {&#10;        val char = text[i].toString()&#10;        val charWidth = charWidths[i] * LETTER_SPACING_FACTOR&#10;        val charAngle = (charWidth / (2f * PI.toFloat() * textRadius)) * 360f&#10;&#10;        currentAngle -= charAngle / 2f&#10;&#10;        val angleInRadians = Math.toRadians(currentAngle.toDouble())&#10;        val x = centerX + textRadius * cos(angleInRadians).toFloat()&#10;        val y = centerY + textRadius * sin(angleInRadians).toFloat()&#10;&#10;        drawContext.canvas.nativeCanvas.save()&#10;        drawContext.canvas.nativeCanvas.translate(x, y)&#10;        drawContext.canvas.nativeCanvas.rotate(currentAngle - 90f)&#10;        drawContext.canvas.nativeCanvas.drawText(char, 0f, 0f, textPaint)&#10;        drawContext.canvas.nativeCanvas.restore()&#10;&#10;        currentAngle -= charAngle / 2f&#10;    }&#10;}&#10;&#10;@Preview(device = WearDevices.SMALL_ROUND, showSystemUi = true)&#10;@Composable&#10;fun DefaultPreview() {&#10;    WearApp(&#10;        messageService = null,&#10;        nodeClient = null&#10;    )&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>