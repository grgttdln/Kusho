<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/learn/set/EditSetScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/learn/set/EditSetScreen.kt" />
              <option name="originalContent" value="package com.example.app.ui.feature.learn.set&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import com.example.app.R&#10;import com.example.app.data.repository.SetRepository&#10;import com.example.app.ui.components.BottomNavBar&#10;import kotlinx.coroutines.launch&#10;&#10;@Composable&#10;fun EditSetScreen(&#10;    setId: Long,&#10;    userId: Long = 0L,&#10;    modifier: Modifier = Modifier,&#10;    onBackClick: () -&gt; Unit = {},&#10;    onAddWordsClick: () -&gt; Unit = {},&#10;    onUpdateSuccess: () -&gt; Unit = {},&#10;    onDeleteSuccess: () -&gt; Unit = {},&#10;    selectedWords: List&lt;SetRepository.SelectedWordConfig&gt; = emptyList(),&#10;    viewModel: EditSetViewModel = viewModel()&#10;) {&#10;    val uiState by viewModel.uiState.collectAsState()&#10;    val coroutineScope = rememberCoroutineScope()&#10;&#10;    // Create stable callback references&#10;    val currentOnBackClick by rememberUpdatedState(onBackClick)&#10;    val currentOnAddWordsClick by rememberUpdatedState(onAddWordsClick)&#10;    val currentOnUpdateSuccess by rememberUpdatedState(onUpdateSuccess)&#10;    val currentOnDeleteSuccess by rememberUpdatedState(onDeleteSuccess)&#10;&#10;    // Load the set when the screen is first displayed or when setId changes&#10;    // The ViewModel will only reload if it's a different set&#10;    LaunchedEffect(setId) {&#10;        if (setId &gt; 0L) {&#10;            viewModel.loadSet(setId)&#10;        }&#10;    }&#10;&#10;    // Handle adding new words from SelectWordsScreen&#10;    // Use derivedStateOf to get current words to avoid stale closure&#10;    LaunchedEffect(selectedWords) {&#10;        if (selectedWords.isNotEmpty()) {&#10;            val currentWords = viewModel.uiState.value.selectedWords&#10;            val existingWordNames = currentWords.map { it.wordName }.toSet()&#10;            val newWords = selectedWords.filter { it.wordName !in existingWordNames }&#10;            if (newWords.isNotEmpty()) {&#10;                viewModel.setSelectedWords(currentWords + newWords)&#10;            }&#10;        }&#10;    }&#10;&#10;    // Handle navigation events (delete success, update success)&#10;    LaunchedEffect(Unit) {&#10;        viewModel.events.collect { event -&gt;&#10;            when (event) {&#10;                is EditSetEvent.DeleteSuccess -&gt; currentOnDeleteSuccess()&#10;                is EditSetEvent.UpdateSuccess -&gt; currentOnUpdateSuccess()&#10;            }&#10;        }&#10;    }&#10;&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;    ) {&#10;        if (uiState.isLoading) {&#10;            // Loading state&#10;            Box(&#10;                modifier = Modifier.fillMaxSize(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                CircularProgressIndicator(&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;            }&#10;        } else {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(horizontal = 20.dp)&#10;                    .padding(bottom = 220.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally&#10;            ) {&#10;                Spacer(modifier = Modifier.height(24.dp))&#10;&#10;                // Header with back button and logo&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    IconButton(&#10;                        onClick = { currentOnBackClick() },&#10;                        modifier = Modifier.offset(x = (-12).dp)&#10;                    ) {&#10;                        Icon(&#10;                            imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                            contentDescription = &quot;Back&quot;,&#10;                            tint = Color(0xFF3FA9F8)&#10;                        )&#10;                    }&#10;&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.ic_kusho),&#10;                        contentDescription = &quot;Kusho Logo&quot;,&#10;                        modifier = Modifier&#10;                            .height(54.dp)&#10;                            .weight(1f),&#10;                        alignment = Alignment.Center&#10;                    )&#10;&#10;&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;&#10;                // Title text &quot;Edit Set&quot;&#10;                Text(&#10;                    text = &quot;Edit Set&quot;,&#10;                    fontSize = 32.sp,&#10;                    fontWeight = FontWeight.Medium,&#10;                    color = Color(0xFF0B0B0B),&#10;                    textAlign = TextAlign.Center&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;&#10;                // Form Container&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(horizontal = 15.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(30.dp)&#10;                ) {&#10;                    // Set Title Field&#10;                    Column(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Set Title&quot;,&#10;                            fontSize = 16.sp,&#10;                            fontWeight = FontWeight.Normal,&#10;                            color = Color(0xFF0B0B0B)&#10;                        )&#10;                        OutlinedTextField(&#10;                            value = uiState.setTitle,&#10;                            onValueChange = { viewModel.setTitle(it) },&#10;                            placeholder = {&#10;                                Text(&#10;                                    text = &quot;E.g, Tall letters&quot;,&#10;                                    fontSize = 16.sp,&#10;                                    color = Color(0xFFC5E5FD),&#10;                                    fontWeight = FontWeight.Normal&#10;                                )&#10;                            },&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(56.dp),&#10;                            shape = RoundedCornerShape(12.dp),&#10;                            colors = OutlinedTextFieldDefaults.colors(&#10;                                focusedBorderColor = Color(0xFF3FA9F8),&#10;                                unfocusedBorderColor = Color(0xFFC5E5FD),&#10;                                focusedContainerColor = Color.White,&#10;                                unfocusedContainerColor = Color.White,&#10;                                cursorColor = Color(0xFF3FA9F8),&#10;                                focusedTextColor = Color(0xFF0B0B0B),&#10;                                unfocusedTextColor = Color(0xFF0B0B0B)&#10;                            ),&#10;                            textStyle = androidx.compose.ui.text.TextStyle(&#10;                                fontSize = 16.sp,&#10;                                fontWeight = FontWeight.Normal&#10;                            ),&#10;                            singleLine = true&#10;                        )&#10;                    }&#10;&#10;                    // Description Field&#10;                    Column(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Description&quot;,&#10;                            fontSize = 16.sp,&#10;                            fontWeight = FontWeight.Normal,&#10;                            color = Color(0xFF0B0B0B)&#10;                        )&#10;                        OutlinedTextField(&#10;                            value = uiState.setDescription,&#10;                            onValueChange = { viewModel.setDescription(it) },&#10;                            placeholder = {&#10;                                Text(&#10;                                    text = &quot;E.g, Practice letters with tall strokes&quot;,&#10;                                    fontSize = 16.sp,&#10;                                    color = Color(0xFFC5E5FD),&#10;                                    fontWeight = FontWeight.Normal&#10;                                )&#10;                            },&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(56.dp),&#10;                            shape = RoundedCornerShape(12.dp),&#10;                            colors = OutlinedTextFieldDefaults.colors(&#10;                                focusedBorderColor = Color(0xFF3FA9F8),&#10;                                unfocusedBorderColor = Color(0xFFC5E5FD),&#10;                                focusedContainerColor = Color.White,&#10;                                unfocusedContainerColor = Color.White,&#10;                                cursorColor = Color(0xFF3FA9F8),&#10;                                focusedTextColor = Color(0xFF0B0B0B),&#10;                                unfocusedTextColor = Color(0xFF0B0B0B)&#10;                            ),&#10;                            textStyle = androidx.compose.ui.text.TextStyle(&#10;                                fontSize = 16.sp,&#10;                                fontWeight = FontWeight.Normal&#10;                            ),&#10;                            singleLine = true,&#10;                            maxLines = 1&#10;                        )&#10;                    }&#10;&#10;                    // Words Section&#10;                    Column(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = if (uiState.selectedWords.isEmpty()) &quot;Words&quot; else &quot;Words in Set (${uiState.selectedWords.size})&quot;,&#10;                            fontSize = 16.sp,&#10;                            fontWeight = FontWeight.Normal,&#10;                            color = Color(0xFF0B0B0B)&#10;                        )&#10;&#10;                        // Display added words with configuration&#10;                        if (uiState.selectedWords.isNotEmpty()) {&#10;                            Column(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                            ) {&#10;                                uiState.selectedWords.forEachIndexed { index, wordConfig -&gt;&#10;                                    EditWordWithConfigItem(&#10;                                        index = index + 1,&#10;                                        word = wordConfig.wordName,&#10;                                        configurationType = wordConfig.configurationType,&#10;                                        onRemove = {&#10;                                            viewModel.removeWord(index)&#10;                                        }&#10;                                    )&#10;                                }&#10;                            }&#10;                        } else {&#10;                            // Empty state&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .fillMaxWidth()&#10;                                    .height(60.dp)&#10;                                    .border(&#10;                                        width = 1.dp,&#10;                                        color = Color(0xFFC5E5FD),&#10;                                        shape = RoundedCornerShape(12.dp)&#10;                                    )&#10;                                    .background(Color(0xFFF5F5F5), RoundedCornerShape(12.dp)),&#10;                                contentAlignment = Alignment.Center&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;No words in this set&quot;,&#10;                                    fontSize = 14.sp,&#10;                                    color = Color(0xFF808080)&#10;                                )&#10;                            }&#10;                        }&#10;&#10;                        // Add Words Button&#10;                        Button(&#10;                            onClick = { currentOnAddWordsClick() },&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(50.dp)&#10;                                .border(&#10;                                    width = 1.3.dp,&#10;                                    color = Color(0xFF3FA9F8),&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                ),&#10;                            shape = RoundedCornerShape(12.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Color.White&#10;                            ),&#10;                            contentPadding = PaddingValues(0.dp)&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = Icons.Default.Add,&#10;                                contentDescription = &quot;Add Word&quot;,&#10;                                tint = Color(0xFF3FA9F8),&#10;                                modifier = Modifier.size(24.dp)&#10;                            )&#10;                            Spacer(modifier = Modifier.width(8.dp))&#10;                            Text(&#10;                                text = if (uiState.selectedWords.isEmpty()) &quot;Add Words&quot; else &quot;Add More Words&quot;,&#10;                                fontSize = 16.sp,&#10;                                fontWeight = FontWeight.Normal,&#10;                                color = Color(0xFF3FA9F8)&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;            }&#10;&#10;            // Update Set Button at bottom&#10;            Button(&#10;                onClick = {&#10;                    if (uiState.setTitle.isNotBlank() &amp;&amp; uiState.selectedWords.isNotEmpty()) {&#10;                        coroutineScope.launch {&#10;                            viewModel.updateSet(userId)&#10;                        }&#10;                    }&#10;                },&#10;                modifier = Modifier&#10;                    .align(Alignment.BottomCenter)&#10;                    .padding(bottom = 100.dp)&#10;                    .fillMaxWidth(0.86f)&#10;                    .height(56.dp),&#10;                shape = RoundedCornerShape(16.dp),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = Color(0xFF3FA9F8),&#10;                    disabledContainerColor = Color(0xFFB3E5FC),&#10;                    disabledContentColor = Color.White&#10;                ),&#10;                contentPadding = PaddingValues(0.dp),&#10;                enabled = uiState.setTitle.isNotBlank() &amp;&amp; uiState.selectedWords.isNotEmpty() &amp;&amp; !uiState.isSaving&#10;            ) {&#10;                Text(&#10;                    text = if (uiState.isSaving) &quot;Updating...&quot; else &quot;Update Set&quot;,&#10;                    fontSize = 18.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = Color.White,&#10;                    textAlign = TextAlign.Center,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;            }&#10;&#10;            // Bottom Navigation Bar&#10;            BottomNavBar(&#10;                selectedTab = 3,&#10;                onTabSelected = { },&#10;                modifier = Modifier.align(Alignment.BottomCenter)&#10;            )&#10;        }&#10;&#10;        // Error Snackbar&#10;        if (uiState.errorMessage != null) {&#10;            Snackbar(&#10;                modifier = Modifier&#10;                    .align(Alignment.BottomCenter)&#10;                    .padding(bottom = 180.dp)&#10;                    .padding(horizontal = 16.dp),&#10;                action = {&#10;                    TextButton(onClick = { viewModel.clearError() }) {&#10;                        Text(&quot;Dismiss&quot;, color = Color.White)&#10;                    }&#10;                },&#10;                containerColor = Color(0xFFE53935)&#10;            ) {&#10;                Text(uiState.errorMessage ?: &quot;&quot;, color = Color.White)&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun EditWordWithConfigItem(&#10;    index: Int,&#10;    word: String,&#10;    configurationType: String,&#10;    onRemove: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Row(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .height(60.dp)&#10;            .border(&#10;                width = 1.dp,&#10;                color = Color(0xFF3FA9F8),&#10;                shape = RoundedCornerShape(15.dp)&#10;            )&#10;            .background(Color.White, RoundedCornerShape(15.dp))&#10;            .padding(horizontal = 12.dp),&#10;        verticalAlignment = Alignment.CenterVertically,&#10;        horizontalArrangement = Arrangement.SpaceBetween&#10;    ) {&#10;        // Word info on the left&#10;        Row(&#10;            modifier = Modifier.weight(1f),&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;        ) {&#10;            Text(&#10;                text = index.toString(),&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Normal,&#10;                color = Color(0xFF3FA9F8)&#10;            )&#10;            Column(&#10;                modifier = Modifier.weight(1f)&#10;            ) {&#10;                Text(&#10;                    text = word,&#10;                    fontSize = 14.sp,&#10;                    fontWeight = FontWeight.SemiBold,&#10;                    color = Color(0xFF0B0B0B)&#10;                )&#10;                Text(&#10;                    text = configurationType,&#10;                    fontSize = 12.sp,&#10;                    fontWeight = FontWeight.Normal,&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;            }&#10;        }&#10;&#10;        // Remove button on the right&#10;        IconButton(&#10;            onClick = onRemove,&#10;            modifier = Modifier.size(36.dp)&#10;        ) {&#10;            Text(&#10;                text = &quot;✕&quot;,&#10;                fontSize = 16.sp,&#10;                color = Color(0xFF3FA9F8),&#10;                fontWeight = FontWeight.Bold&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun EditSetScreenPreview() {&#10;    EditSetScreen(setId = 1L)&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.app.ui.feature.learn.set&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import com.example.app.R&#10;import com.example.app.data.repository.SetRepository&#10;import com.example.app.ui.components.BottomNavBar&#10;import kotlinx.coroutines.launch&#10;&#10;@Composable&#10;fun EditSetScreen(&#10;    setId: Long,&#10;    userId: Long = 0L,&#10;    modifier: Modifier = Modifier,&#10;    onBackClick: () -&gt; Unit = {},&#10;    onAddWordsClick: () -&gt; Unit = {},&#10;    onUpdateSuccess: () -&gt; Unit = {},&#10;    onDeleteSuccess: () -&gt; Unit = {},&#10;    selectedWords: List&lt;SetRepository.SelectedWordConfig&gt; = emptyList(),&#10;    viewModel: EditSetViewModel = viewModel()&#10;) {&#10;    val uiState by viewModel.uiState.collectAsState()&#10;    val coroutineScope = rememberCoroutineScope()&#10;&#10;    // Create stable callback references&#10;    val currentOnBackClick by rememberUpdatedState(onBackClick)&#10;    val currentOnAddWordsClick by rememberUpdatedState(onAddWordsClick)&#10;    val currentOnUpdateSuccess by rememberUpdatedState(onUpdateSuccess)&#10;    val currentOnDeleteSuccess by rememberUpdatedState(onDeleteSuccess)&#10;&#10;    // Load the set when the screen is first displayed or when setId changes&#10;    // The ViewModel will only reload if it's a different set&#10;    LaunchedEffect(setId) {&#10;        if (setId &gt; 0L) {&#10;            viewModel.loadSet(setId)&#10;        }&#10;    }&#10;&#10;    // Handle adding new words from SelectWordsScreen&#10;    // Use derivedStateOf to get current words to avoid stale closure&#10;    LaunchedEffect(selectedWords) {&#10;        if (selectedWords.isNotEmpty()) {&#10;            val currentWords = viewModel.uiState.value.selectedWords&#10;            val existingWordNames = currentWords.map { it.wordName }.toSet()&#10;            val newWords = selectedWords.filter { it.wordName !in existingWordNames }&#10;            if (newWords.isNotEmpty()) {&#10;                viewModel.setSelectedWords(currentWords + newWords)&#10;            }&#10;        }&#10;    }&#10;&#10;    // Handle navigation events (delete success, update success)&#10;    LaunchedEffect(Unit) {&#10;        viewModel.events.collect { event -&gt;&#10;            when (event) {&#10;                is EditSetEvent.DeleteSuccess -&gt; currentOnDeleteSuccess()&#10;                is EditSetEvent.UpdateSuccess -&gt; currentOnUpdateSuccess()&#10;            }&#10;        }&#10;    }&#10;&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;    ) {&#10;        if (uiState.isLoading) {&#10;            // Loading state&#10;            Box(&#10;                modifier = Modifier.fillMaxSize(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                CircularProgressIndicator(&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;            }&#10;        } else {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .verticalScroll(rememberScrollState())&#10;                    .padding(horizontal = 20.dp)&#10;                    .padding(bottom = 220.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally&#10;            ) {&#10;                Spacer(modifier = Modifier.height(24.dp))&#10;&#10;                // Header with back button and logo&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    IconButton(&#10;                        onClick = { currentOnBackClick() },&#10;                        modifier = Modifier.offset(x = (-12).dp)&#10;                    ) {&#10;                        Icon(&#10;                            imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                            contentDescription = &quot;Back&quot;,&#10;                            tint = Color(0xFF3FA9F8)&#10;                        )&#10;                    }&#10;&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.ic_kusho),&#10;                        contentDescription = &quot;Kusho Logo&quot;,&#10;                        modifier = Modifier&#10;                            .height(54.dp)&#10;                            .weight(1f),&#10;                        alignment = Alignment.Center&#10;                    )&#10;&#10;                    // Spacer to balance the back button and center the logo&#10;                    Spacer(modifier = Modifier.width(48.dp))&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;&#10;                // Title text &quot;Edit Set&quot;&#10;                Text(&#10;                    text = &quot;Edit Set&quot;,&#10;                    fontSize = 32.sp,&#10;                    fontWeight = FontWeight.Medium,&#10;                    color = Color(0xFF0B0B0B),&#10;                    textAlign = TextAlign.Center&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;&#10;                // Form Container&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(horizontal = 15.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(30.dp)&#10;                ) {&#10;                    // Set Title Field&#10;                    Column(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Set Title&quot;,&#10;                            fontSize = 16.sp,&#10;                            fontWeight = FontWeight.Normal,&#10;                            color = Color(0xFF0B0B0B)&#10;                        )&#10;                        OutlinedTextField(&#10;                            value = uiState.setTitle,&#10;                            onValueChange = { viewModel.setTitle(it) },&#10;                            placeholder = {&#10;                                Text(&#10;                                    text = &quot;E.g, Tall letters&quot;,&#10;                                    fontSize = 16.sp,&#10;                                    color = Color(0xFFC5E5FD),&#10;                                    fontWeight = FontWeight.Normal&#10;                                )&#10;                            },&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(56.dp),&#10;                            shape = RoundedCornerShape(12.dp),&#10;                            colors = OutlinedTextFieldDefaults.colors(&#10;                                focusedBorderColor = Color(0xFF3FA9F8),&#10;                                unfocusedBorderColor = Color(0xFFC5E5FD),&#10;                                focusedContainerColor = Color.White,&#10;                                unfocusedContainerColor = Color.White,&#10;                                cursorColor = Color(0xFF3FA9F8),&#10;                                focusedTextColor = Color(0xFF0B0B0B),&#10;                                unfocusedTextColor = Color(0xFF0B0B0B)&#10;                            ),&#10;                            textStyle = androidx.compose.ui.text.TextStyle(&#10;                                fontSize = 16.sp,&#10;                                fontWeight = FontWeight.Normal&#10;                            ),&#10;                            singleLine = true&#10;                        )&#10;                    }&#10;&#10;                    // Description Field&#10;                    Column(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = &quot;Description&quot;,&#10;                            fontSize = 16.sp,&#10;                            fontWeight = FontWeight.Normal,&#10;                            color = Color(0xFF0B0B0B)&#10;                        )&#10;                        OutlinedTextField(&#10;                            value = uiState.setDescription,&#10;                            onValueChange = { viewModel.setDescription(it) },&#10;                            placeholder = {&#10;                                Text(&#10;                                    text = &quot;E.g, Practice letters with tall strokes&quot;,&#10;                                    fontSize = 16.sp,&#10;                                    color = Color(0xFFC5E5FD),&#10;                                    fontWeight = FontWeight.Normal&#10;                                )&#10;                            },&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(56.dp),&#10;                            shape = RoundedCornerShape(12.dp),&#10;                            colors = OutlinedTextFieldDefaults.colors(&#10;                                focusedBorderColor = Color(0xFF3FA9F8),&#10;                                unfocusedBorderColor = Color(0xFFC5E5FD),&#10;                                focusedContainerColor = Color.White,&#10;                                unfocusedContainerColor = Color.White,&#10;                                cursorColor = Color(0xFF3FA9F8),&#10;                                focusedTextColor = Color(0xFF0B0B0B),&#10;                                unfocusedTextColor = Color(0xFF0B0B0B)&#10;                            ),&#10;                            textStyle = androidx.compose.ui.text.TextStyle(&#10;                                fontSize = 16.sp,&#10;                                fontWeight = FontWeight.Normal&#10;                            ),&#10;                            singleLine = true,&#10;                            maxLines = 1&#10;                        )&#10;                    }&#10;&#10;                    // Words Section&#10;                    Column(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = if (uiState.selectedWords.isEmpty()) &quot;Words&quot; else &quot;Words in Set (${uiState.selectedWords.size})&quot;,&#10;                            fontSize = 16.sp,&#10;                            fontWeight = FontWeight.Normal,&#10;                            color = Color(0xFF0B0B0B)&#10;                        )&#10;&#10;                        // Display added words with configuration&#10;                        if (uiState.selectedWords.isNotEmpty()) {&#10;                            Column(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                            ) {&#10;                                uiState.selectedWords.forEachIndexed { index, wordConfig -&gt;&#10;                                    EditWordWithConfigItem(&#10;                                        index = index + 1,&#10;                                        word = wordConfig.wordName,&#10;                                        configurationType = wordConfig.configurationType,&#10;                                        onRemove = {&#10;                                            viewModel.removeWord(index)&#10;                                        }&#10;                                    )&#10;                                }&#10;                            }&#10;                        } else {&#10;                            // Empty state&#10;                            Box(&#10;                                modifier = Modifier&#10;                                    .fillMaxWidth()&#10;                                    .height(60.dp)&#10;                                    .border(&#10;                                        width = 1.dp,&#10;                                        color = Color(0xFFC5E5FD),&#10;                                        shape = RoundedCornerShape(12.dp)&#10;                                    )&#10;                                    .background(Color(0xFFF5F5F5), RoundedCornerShape(12.dp)),&#10;                                contentAlignment = Alignment.Center&#10;                            ) {&#10;                                Text(&#10;                                    text = &quot;No words in this set&quot;,&#10;                                    fontSize = 14.sp,&#10;                                    color = Color(0xFF808080)&#10;                                )&#10;                            }&#10;                        }&#10;&#10;                        // Add Words Button&#10;                        Button(&#10;                            onClick = { currentOnAddWordsClick() },&#10;                            modifier = Modifier&#10;                                .fillMaxWidth()&#10;                                .height(50.dp)&#10;                                .border(&#10;                                    width = 1.3.dp,&#10;                                    color = Color(0xFF3FA9F8),&#10;                                    shape = RoundedCornerShape(12.dp)&#10;                                ),&#10;                            shape = RoundedCornerShape(12.dp),&#10;                            colors = ButtonDefaults.buttonColors(&#10;                                containerColor = Color.White&#10;                            ),&#10;                            contentPadding = PaddingValues(0.dp)&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = Icons.Default.Add,&#10;                                contentDescription = &quot;Add Word&quot;,&#10;                                tint = Color(0xFF3FA9F8),&#10;                                modifier = Modifier.size(24.dp)&#10;                            )&#10;                            Spacer(modifier = Modifier.width(8.dp))&#10;                            Text(&#10;                                text = if (uiState.selectedWords.isEmpty()) &quot;Add Words&quot; else &quot;Add More Words&quot;,&#10;                                fontSize = 16.sp,&#10;                                fontWeight = FontWeight.Normal,&#10;                                color = Color(0xFF3FA9F8)&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;            }&#10;&#10;            // Update Set Button at bottom&#10;            Button(&#10;                onClick = {&#10;                    if (uiState.setTitle.isNotBlank() &amp;&amp; uiState.selectedWords.isNotEmpty()) {&#10;                        coroutineScope.launch {&#10;                            viewModel.updateSet(userId)&#10;                        }&#10;                    }&#10;                },&#10;                modifier = Modifier&#10;                    .align(Alignment.BottomCenter)&#10;                    .padding(bottom = 100.dp)&#10;                    .fillMaxWidth(0.86f)&#10;                    .height(56.dp),&#10;                shape = RoundedCornerShape(16.dp),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = Color(0xFF3FA9F8),&#10;                    disabledContainerColor = Color(0xFFB3E5FC),&#10;                    disabledContentColor = Color.White&#10;                ),&#10;                contentPadding = PaddingValues(0.dp),&#10;                enabled = uiState.setTitle.isNotBlank() &amp;&amp; uiState.selectedWords.isNotEmpty() &amp;&amp; !uiState.isSaving&#10;            ) {&#10;                Text(&#10;                    text = if (uiState.isSaving) &quot;Updating...&quot; else &quot;Update Set&quot;,&#10;                    fontSize = 18.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = Color.White,&#10;                    textAlign = TextAlign.Center,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;            }&#10;&#10;            // Bottom Navigation Bar&#10;            BottomNavBar(&#10;                selectedTab = 3,&#10;                onTabSelected = { },&#10;                modifier = Modifier.align(Alignment.BottomCenter)&#10;            )&#10;        }&#10;&#10;        // Error Snackbar&#10;        if (uiState.errorMessage != null) {&#10;            Snackbar(&#10;                modifier = Modifier&#10;                    .align(Alignment.BottomCenter)&#10;                    .padding(bottom = 180.dp)&#10;                    .padding(horizontal = 16.dp),&#10;                action = {&#10;                    TextButton(onClick = { viewModel.clearError() }) {&#10;                        Text(&quot;Dismiss&quot;, color = Color.White)&#10;                    }&#10;                },&#10;                containerColor = Color(0xFFE53935)&#10;            ) {&#10;                Text(uiState.errorMessage ?: &quot;&quot;, color = Color.White)&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun EditWordWithConfigItem(&#10;    index: Int,&#10;    word: String,&#10;    configurationType: String,&#10;    onRemove: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Row(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .height(60.dp)&#10;            .border(&#10;                width = 1.dp,&#10;                color = Color(0xFF3FA9F8),&#10;                shape = RoundedCornerShape(15.dp)&#10;            )&#10;            .background(Color.White, RoundedCornerShape(15.dp))&#10;            .padding(horizontal = 12.dp),&#10;        verticalAlignment = Alignment.CenterVertically,&#10;        horizontalArrangement = Arrangement.SpaceBetween&#10;    ) {&#10;        // Word info on the left&#10;        Row(&#10;            modifier = Modifier.weight(1f),&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;        ) {&#10;            Text(&#10;                text = index.toString(),&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Normal,&#10;                color = Color(0xFF3FA9F8)&#10;            )&#10;            Column(&#10;                modifier = Modifier.weight(1f)&#10;            ) {&#10;                Text(&#10;                    text = word,&#10;                    fontSize = 14.sp,&#10;                    fontWeight = FontWeight.SemiBold,&#10;                    color = Color(0xFF0B0B0B)&#10;                )&#10;                Text(&#10;                    text = configurationType,&#10;                    fontSize = 12.sp,&#10;                    fontWeight = FontWeight.Normal,&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;            }&#10;        }&#10;&#10;        // Remove button on the right&#10;        IconButton(&#10;            onClick = onRemove,&#10;            modifier = Modifier.size(36.dp)&#10;        ) {&#10;            Text(&#10;                text = &quot;✕&quot;,&#10;                fontSize = 16.sp,&#10;                color = Color(0xFF3FA9F8),&#10;                fontWeight = FontWeight.Bold&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true, showSystemUi = true)&#10;@Composable&#10;fun EditSetScreenPreview() {&#10;    EditSetScreen(setId = 1L)&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_watch_temp.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_watch_temp.xml" />
              <option name="updatedContent" value="&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;960&quot;&#10;    android:viewportHeight=&quot;960&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#000000&quot;&#10;        android:pathData=&quot;M420,160h120,-120ZM420,800h120,-120ZM360,880l-54,-182q-48,-38 -77,-95t-29,-123q0,-66 29,-123t77,-95l54,-182h240l54,182q48,38 77,95t29,123q0,66 -29,123t-77,95L600,880L360,880ZM480,680q83,0 141.5,-58.5T680,480q0,-83 -58.5,-141.5T480,320q-83,0 -141.5,58.5T280,480q0,83 58.5,141.5T480,680ZM404,210q20,-5 38.5,-8t37.5,-3q19,0 37.5,3t38.5,8l-16,-50L420,160l-16,50ZM420,800h120l16,-50q-20,5 -38.5,7.5T480,760q-19,0 -37.5,-2.5T404,750l16,50Z&quot;/&gt;&#10;&lt;/vector&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/wear/build.gradle.kts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/wear/build.gradle.kts" />
              <option name="originalContent" value="plugins {&#10;    alias(libs.plugins.android.application)&#10;    alias(libs.plugins.kotlin.android)&#10;    alias(libs.plugins.kotlin.compose)&#10;}&#10;&#10;android {&#10;    namespace = &quot;com.example.kusho&quot;&#10;    compileSdk {&#10;        version = release(36)&#10;    }&#10;&#10;    defaultConfig {&#10;        applicationId = &quot;com.example.kusho&quot;&#10;        minSdk = 30&#10;        targetSdk = 36&#10;        versionCode = 1&#10;        versionName = &quot;1.0&quot;&#10;        &#10;        ndk {&#10;            abiFilters.add(&quot;armeabi-v7a&quot;)&#10;            abiFilters.add(&quot;arm64-v8a&quot;)&#10;            abiFilters.add(&quot;x86&quot;)&#10;            abiFilters.add(&quot;x86_64&quot;)&#10;        }&#10;    }&#10;&#10;    buildTypes {&#10;        release {&#10;            isMinifyEnabled = false&#10;            proguardFiles(&#10;                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),&#10;                &quot;proguard-rules.pro&quot;&#10;            )&#10;        }&#10;    }&#10;    compileOptions {&#10;        sourceCompatibility = JavaVersion.VERSION_11&#10;        targetCompatibility = JavaVersion.VERSION_11&#10;    }&#10;    kotlinOptions {&#10;        jvmTarget = &quot;11&quot;&#10;    }&#10;    useLibrary(&quot;wear-sdk&quot;)&#10;    buildFeatures {&#10;        compose = true&#10;    }&#10;    aaptOptions {&#10;        noCompress(&quot;tflite&quot;)&#10;    }&#10;}&#10;&#10;dependencies {&#10;    implementation(project(&quot;:common&quot;))&#10;    implementation(platform(libs.compose.bom))&#10;    implementation(libs.ui)&#10;    implementation(libs.ui.graphics)&#10;    implementation(libs.ui.tooling.preview)&#10;    implementation(libs.compose.material)&#10;    implementation(libs.compose.foundation)&#10;    implementation(libs.wear.tooling.preview)&#10;    implementation(libs.activity.compose)&#10;    implementation(libs.core.splashscreen)&#10;    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.10.2&quot;)&#10;    implementation(&quot;androidx.wear.compose:compose-navigation:1.3.0&quot;)&#10;    implementation(&quot;androidx.navigation:navigation-compose:2.7.6&quot;)&#10;    &#10;&#10;    implementation(&quot;org.tensorflow:tensorflow-lite:2.17.0&quot;)&#10;    implementation(&quot;org.tensorflow:tensorflow-lite-select-tf-ops:2.16.1&quot;)&#10;&#10;    androidTestImplementation(platform(libs.compose.bom))&#10;    androidTestImplementation(libs.ui.test.junit4)&#10;    debugImplementation(libs.ui.tooling)&#10;    debugImplementation(libs.ui.test.manifest)&#10;}" />
              <option name="updatedContent" value="plugins {&#10;    alias(libs.plugins.android.application)&#10;    alias(libs.plugins.kotlin.android)&#10;    alias(libs.plugins.kotlin.compose)&#10;}&#10;&#10;android {&#10;    namespace = &quot;com.example.kusho&quot;&#10;    compileSdk {&#10;        version = release(36)&#10;    }&#10;&#10;    defaultConfig {&#10;        applicationId = &quot;com.example.kusho&quot;&#10;        minSdk = 30&#10;        targetSdk = 36&#10;        versionCode = 1&#10;        versionName = &quot;1.0&quot;&#10;        &#10;        ndk {&#10;            abiFilters.add(&quot;armeabi-v7a&quot;)&#10;            abiFilters.add(&quot;arm64-v8a&quot;)&#10;            abiFilters.add(&quot;x86&quot;)&#10;            abiFilters.add(&quot;x86_64&quot;)&#10;        }&#10;    }&#10;&#10;    buildTypes {&#10;        release {&#10;            isMinifyEnabled = false&#10;            proguardFiles(&#10;                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),&#10;                &quot;proguard-rules.pro&quot;&#10;            )&#10;        }&#10;    }&#10;    compileOptions {&#10;        sourceCompatibility = JavaVersion.VERSION_11&#10;        targetCompatibility = JavaVersion.VERSION_11&#10;    }&#10;    kotlinOptions {&#10;        jvmTarget = &quot;11&quot;&#10;    }&#10;    useLibrary(&quot;wear-sdk&quot;)&#10;    buildFeatures {&#10;        compose = true&#10;    }&#10;    aaptOptions {&#10;        noCompress(&quot;tflite&quot;)&#10;    }&#10;}&#10;&#10;dependencies {&#10;    implementation(project(&quot;:common&quot;))&#10;    implementation(platform(libs.compose.bom))&#10;    implementation(libs.ui)&#10;    implementation(libs.ui.graphics)&#10;    implementation(libs.ui.tooling.preview)&#10;    implementation(libs.compose.material)&#10;    implementation(libs.compose.foundation)&#10;    implementation(libs.wear.tooling.preview)&#10;    implementation(libs.activity.compose)&#10;    implementation(libs.core.splashscreen)&#10;    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.10.2&quot;)&#10;    implementation(&quot;androidx.wear.compose:compose-navigation:1.3.0&quot;)&#10;    implementation(&quot;androidx.navigation:navigation-compose:2.7.6&quot;)&#10;    &#10;&#10;    implementation(&quot;org.tensorflow:tensorflow-lite:2.17.0&quot;)&#10;    implementation(&quot;org.tensorflow:tensorflow-lite-select-tf-ops:2.16.1&quot;)&#10;&#10;    androidTestImplementation(platform(libs.compose.bom))&#10;    androidTestImplementation(libs.ui.test.junit4)&#10;    debugImplementation(libs.ui.tooling)&#10;    debugImplementation(libs.ui.test.manifest)&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>