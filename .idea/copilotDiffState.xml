<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/classroom/AddStudentScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/classroom/AddStudentScreen.kt" />
              <option name="originalContent" value="package com.example.app.ui.feature.classroom&#10;&#10;import android.net.Uri&#10;import androidx.activity.compose.rememberLauncherForActivityResult&#10;import androidx.activity.result.contract.ActivityResultContracts&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.Close&#10;import androidx.compose.material.icons.filled.KeyboardArrowLeft&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import androidx.compose.runtime.rememberCoroutineScope&#10;import kotlinx.coroutines.launch&#10;import coil.compose.AsyncImage&#10;import com.example.app.R&#10;import com.example.app.ui.components.PrimaryButton&#10;import com.example.app.util.ImageUtil&#10;&#10;@Composable&#10;fun AddStudentScreen(&#10;    onNavigateBack: () -&gt; Unit,&#10;    modifier: Modifier = Modifier,&#10;    onStudentAdded: (studentName: String) -&gt; Unit,&#10;    viewModel: ClassroomViewModel = viewModel()&#10;) {&#10;    val context = LocalContext.current&#10;    var studentName by remember { mutableStateOf(&quot;&quot;) }&#10;    var gradeLevel by remember { mutableStateOf(&quot;&quot;) }&#10;    var profileImageUri by remember { mutableStateOf&lt;Uri?&gt;(null) }&#10;    var profileImagePath by remember { mutableStateOf&lt;String?&gt;(null) }&#10;&#10;    val imagePickerLauncher = rememberLauncherForActivityResult(&#10;        contract = ActivityResultContracts.GetContent()&#10;    ) { uri: Uri? -&gt;&#10;        uri?.let {&#10;            profileImageUri = it&#10;            // Save image to internal storage&#10;            profileImagePath = ImageUtil.saveImageToInternalStorage(context, it, &quot;profile&quot;)&#10;        }&#10;    }&#10;&#10;    val isFormValid = studentName.isNotBlank() &amp;&amp; gradeLevel.isNotBlank()&#10;    var isAdding by remember { mutableStateOf(false) }&#10;    val snackbarHostState = remember { SnackbarHostState() }&#10;    val coroutineScope = rememberCoroutineScope()&#10;&#10;    Box(modifier = modifier.fillMaxSize()) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(horizontal = 20.dp)&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .verticalScroll(rememberScrollState())&#10;            ) {&#10;                Spacer(Modifier.height(40.dp))&#10;&#10;                // Back Button - positioned like Kusho logo&#10;                Icon(&#10;                    imageVector = Icons.Default.KeyboardArrowLeft,&#10;                    contentDescription = &quot;Back&quot;,&#10;                    tint = Color(0xFF3FA9F8),&#10;                    modifier = Modifier&#10;                        .size(32.dp)&#10;                        .offset(x = 10.dp)&#10;                        .clickable { onNavigateBack() }&#10;                )&#10;&#10;                Spacer(Modifier.height(28.dp))&#10;&#10;                // Title - Centered&#10;                Box(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Add a New Student&quot;,&#10;                        fontSize = 28.sp,&#10;                        fontWeight = FontWeight.ExtraBold,&#10;                        color = Color(0xFF0B0B0B)&#10;                    )&#10;                }&#10;&#10;                Spacer(Modifier.height(28.dp))&#10;&#10;                // Profile Picture Section&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .wrapContentHeight(),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .size(169.dp)&#10;                            .clip(RoundedCornerShape(12.dp))&#10;                            .background(Color(0xFFE3F2FD))&#10;                            .clickable { imagePickerLauncher.launch(&quot;image/*&quot;) },&#10;                        contentAlignment = Alignment.Center&#10;                    ) {&#10;                        if (profileImageUri != null) {&#10;                            AsyncImage(&#10;                                model = profileImageUri,&#10;                                contentDescription = &quot;Student Profile&quot;,&#10;                                modifier = Modifier.fillMaxSize(),&#10;                                contentScale = ContentScale.Crop&#10;                            )&#10;                        } else {&#10;                            Column(&#10;                                horizontalAlignment = Alignment.CenterHorizontally&#10;                            ) {&#10;                                Image(&#10;                                    painter = painterResource(id = R.drawable.dis_pfp),&#10;                                    contentDescription = null,&#10;                                    modifier = Modifier.size(100.dp),&#10;                                    contentScale = ContentScale.Fit&#10;                                )&#10;                                Spacer(Modifier.height(8.dp))&#10;                                Text(&#10;                                    text = &quot;Add Profile Picture&quot;,&#10;                                    fontSize = 16.sp,&#10;                                    color = Color(0xFF64B5F6),&#10;                                    fontWeight = FontWeight.Normal&#10;                                )&#10;                            }&#10;                        }&#10;&#10;                        // Plus/Close button&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .align(Alignment.TopEnd)&#10;                                .padding(12.dp)&#10;                                .size(40.dp)&#10;                                .clip(CircleShape)&#10;                                .background(Color(0xFF3FA9F8))&#10;                                .clickable {&#10;                                    if (profileImageUri != null) {&#10;                                        profileImageUri = null&#10;                                    } else {&#10;                                        imagePickerLauncher.launch(&quot;image/*&quot;)&#10;                                    }&#10;                                },&#10;                            contentAlignment = Alignment.Center&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = if (profileImageUri != null) Icons.Default.Close else Icons.Default.Add,&#10;                                contentDescription = if (profileImageUri != null) &quot;Remove Picture&quot; else &quot;Add Picture&quot;,&#10;                                tint = Color.White,&#10;                                modifier = Modifier.size(24.dp)&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;&#10;                Spacer(Modifier.height(28.dp))&#10;&#10;                // Student Name TextField&#10;                TextField(&#10;                    value = studentName,&#10;                    onValueChange = { studentName = it },&#10;                    placeholder = {&#10;                        Text(&#10;                            text = &quot;Enter Student's Name&quot;,&#10;                            color = Color(0xFF999999)&#10;                        )&#10;                    },&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    colors = TextFieldDefaults.colors(&#10;                        focusedIndicatorColor = Color(0xFF3FA9F8),&#10;                        unfocusedIndicatorColor = Color(0xFF3FA9F8),&#10;                        focusedContainerColor = Color.Transparent,&#10;                        unfocusedContainerColor = Color.Transparent,&#10;                        focusedTextColor = Color.Black,&#10;                        unfocusedTextColor = Color.Black&#10;                    ),&#10;                    singleLine = true&#10;                )&#10;&#10;                Spacer(Modifier.height(20.dp))&#10;&#10;                // Grade Level TextField&#10;                TextField(&#10;                    value = gradeLevel,&#10;                    onValueChange = { gradeLevel = it },&#10;                    placeholder = {&#10;                        Text(&#10;                            text = &quot;Enter Student's Grade Level&quot;,&#10;                            color = Color(0xFF999999)&#10;                        )&#10;                    },&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    colors = TextFieldDefaults.colors(&#10;                        focusedIndicatorColor = Color(0xFF3FA9F8),&#10;                        unfocusedIndicatorColor = Color(0xFF3FA9F8),&#10;                        focusedContainerColor = Color.Transparent,&#10;                        unfocusedContainerColor = Color.Transparent,&#10;                        focusedTextColor = Color.Black,&#10;                        unfocusedTextColor = Color.Black&#10;                    ),&#10;                    singleLine = true&#10;                )&#10;&#10;                Spacer(Modifier.height(24.dp))&#10;            }&#10;&#10;            // Snackbar host for errors&#10;            Box(modifier = Modifier.fillMaxWidth()) {&#10;                SnackbarHost(hostState = snackbarHostState, modifier = Modifier.align(Alignment.TopCenter))&#10;            }&#10;&#10;            PrimaryButton(&#10;                text = if (isAdding) &quot;Adding...&quot; else &quot;Add A New Student&quot;,&#10;                onClick = {&#10;                    if (!isFormValid || isAdding) return@PrimaryButton&#10;                    isAdding = true&#10;                    viewModel.addStudent(&#10;                        fullName = studentName,&#10;                        gradeLevel = gradeLevel,&#10;                        pfpPath = profileImagePath,&#10;                        onSuccess = { studentId: Long -&gt;&#10;                            isAdding = false&#10;                            // Notify parent so it can navigate to the StudentAddedSuccessScreen (screen 24)&#10;                            onStudentAdded(studentName)&#10;                        },&#10;                        onError = { error: String -&gt;&#10;                            isAdding = false&#10;                            coroutineScope.launch {&#10;                                snackbarHostState.showSnackbar(error)&#10;                            }&#10;                        }&#10;                    )&#10;                },&#10;                enabled = isFormValid &amp;&amp; !isAdding,&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(vertical = 16.dp, horizontal = 8.dp)&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun AddStudentScreenPreview() {&#10;    AddStudentScreen(&#10;        onNavigateBack = {},&#10;        onStudentAdded = {}&#10;    )&#10;}" />
              <option name="updatedContent" value="package com.example.app.ui.feature.classroom&#10;&#10;import android.net.Uri&#10;import androidx.activity.compose.rememberLauncherForActivityResult&#10;import androidx.activity.result.contract.ActivityResultContracts&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.KeyboardArrowLeft&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.Close&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import androidx.compose.runtime.rememberCoroutineScope&#10;import kotlinx.coroutines.launch&#10;import coil.compose.AsyncImage&#10;import com.example.app.R&#10;import com.example.app.ui.components.PrimaryButton&#10;import com.example.app.util.ImageUtil&#10;&#10;@Composable&#10;fun AddStudentScreen(&#10;    onNavigateBack: () -&gt; Unit,&#10;    modifier: Modifier = Modifier,&#10;    onStudentAdded: (studentName: String) -&gt; Unit,&#10;    viewModel: ClassroomViewModel = viewModel()&#10;) {&#10;    val context = LocalContext.current&#10;    var studentName by remember { mutableStateOf(&quot;&quot;) }&#10;    var gradeLevel by remember { mutableStateOf(&quot;&quot;) }&#10;    var profileImageUri by remember { mutableStateOf&lt;Uri?&gt;(null) }&#10;    var profileImagePath by remember { mutableStateOf&lt;String?&gt;(null) }&#10;&#10;    val imagePickerLauncher = rememberLauncherForActivityResult(&#10;        contract = ActivityResultContracts.GetContent()&#10;    ) { uri: Uri? -&gt;&#10;        uri?.let {&#10;            profileImageUri = it&#10;            // Save image to internal storage&#10;            profileImagePath = ImageUtil.saveImageToInternalStorage(context, it, &quot;profile&quot;)&#10;        }&#10;    }&#10;&#10;    val isFormValid = studentName.isNotBlank() &amp;&amp; gradeLevel.isNotBlank()&#10;    var isAdding by remember { mutableStateOf(false) }&#10;    val snackbarHostState = remember { SnackbarHostState() }&#10;    val coroutineScope = rememberCoroutineScope()&#10;&#10;    Box(modifier = modifier.fillMaxSize()) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(horizontal = 20.dp)&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .verticalScroll(rememberScrollState())&#10;            ) {&#10;                Spacer(Modifier.height(40.dp))&#10;&#10;                // Back Button - positioned like Kusho logo&#10;                Icon(&#10;                    imageVector = Icons.AutoMirrored.Filled.KeyboardArrowLeft,&#10;                    contentDescription = &quot;Back&quot;,&#10;                    tint = Color(0xFF3FA9F8),&#10;                    modifier = Modifier&#10;                        .size(32.dp)&#10;                        .offset(x = 10.dp)&#10;                        .clickable { onNavigateBack() }&#10;                )&#10;&#10;                Spacer(Modifier.height(28.dp))&#10;&#10;                // Title - Centered&#10;                Box(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Add a New Student&quot;,&#10;                        fontSize = 28.sp,&#10;                        fontWeight = FontWeight.ExtraBold,&#10;                        color = Color(0xFF0B0B0B)&#10;                    )&#10;                }&#10;&#10;                Spacer(Modifier.height(28.dp))&#10;&#10;                // Profile Picture Section&#10;                Box(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .wrapContentHeight(),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .size(169.dp)&#10;                            .clip(RoundedCornerShape(12.dp))&#10;                            .background(Color(0xFFE3F2FD))&#10;                            .clickable { imagePickerLauncher.launch(&quot;image/*&quot;) },&#10;                        contentAlignment = Alignment.Center&#10;                    ) {&#10;                        if (profileImageUri != null) {&#10;                            AsyncImage(&#10;                                model = profileImageUri,&#10;                                contentDescription = &quot;Student Profile&quot;,&#10;                                modifier = Modifier.fillMaxSize(),&#10;                                contentScale = ContentScale.Crop&#10;                            )&#10;                        } else {&#10;                            Column(&#10;                                horizontalAlignment = Alignment.CenterHorizontally&#10;                            ) {&#10;                                Image(&#10;                                    painter = painterResource(id = R.drawable.dis_pfp),&#10;                                    contentDescription = null,&#10;                                    modifier = Modifier.size(100.dp),&#10;                                    contentScale = ContentScale.Fit&#10;                                )&#10;                                Spacer(Modifier.height(8.dp))&#10;                                Text(&#10;                                    text = &quot;Add Profile Picture&quot;,&#10;                                    fontSize = 16.sp,&#10;                                    color = Color(0xFF64B5F6),&#10;                                    fontWeight = FontWeight.Normal&#10;                                )&#10;                            }&#10;                        }&#10;&#10;                        // Plus/Close button&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .align(Alignment.TopEnd)&#10;                                .padding(12.dp)&#10;                                .size(40.dp)&#10;                                .clip(CircleShape)&#10;                                .background(Color(0xFF3FA9F8))&#10;                                .clickable {&#10;                                    if (profileImageUri != null) {&#10;                                        profileImageUri = null&#10;                                    } else {&#10;                                        imagePickerLauncher.launch(&quot;image/*&quot;)&#10;                                    }&#10;                                },&#10;                            contentAlignment = Alignment.Center&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = if (profileImageUri != null) Icons.Default.Close else Icons.Default.Add,&#10;                                contentDescription = if (profileImageUri != null) &quot;Remove Picture&quot; else &quot;Add Picture&quot;,&#10;                                tint = Color.White,&#10;                                modifier = Modifier.size(24.dp)&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;&#10;                Spacer(Modifier.height(28.dp))&#10;&#10;                // Student Name TextField&#10;                TextField(&#10;                    value = studentName,&#10;                    onValueChange = { studentName = it },&#10;                    placeholder = {&#10;                        Text(&#10;                            text = &quot;Enter Student's Name&quot;,&#10;                            color = Color(0xFF999999)&#10;                        )&#10;                    },&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    colors = TextFieldDefaults.colors(&#10;                        focusedIndicatorColor = Color(0xFF3FA9F8),&#10;                        unfocusedIndicatorColor = Color(0xFF3FA9F8),&#10;                        focusedContainerColor = Color.Transparent,&#10;                        unfocusedContainerColor = Color.Transparent,&#10;                        focusedTextColor = Color.Black,&#10;                        unfocusedTextColor = Color.Black&#10;                    ),&#10;                    singleLine = true&#10;                )&#10;&#10;                Spacer(Modifier.height(20.dp))&#10;&#10;                // Grade Level TextField&#10;                TextField(&#10;                    value = gradeLevel,&#10;                    onValueChange = { gradeLevel = it },&#10;                    placeholder = {&#10;                        Text(&#10;                            text = &quot;Enter Student's Grade Level&quot;,&#10;                            color = Color(0xFF999999)&#10;                        )&#10;                    },&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    colors = TextFieldDefaults.colors(&#10;                        focusedIndicatorColor = Color(0xFF3FA9F8),&#10;                        unfocusedIndicatorColor = Color(0xFF3FA9F8),&#10;                        focusedContainerColor = Color.Transparent,&#10;                        unfocusedContainerColor = Color.Transparent,&#10;                        focusedTextColor = Color.Black,&#10;                        unfocusedTextColor = Color.Black&#10;                    ),&#10;                    singleLine = true&#10;                )&#10;&#10;                Spacer(Modifier.height(24.dp))&#10;            }&#10;&#10;            // Snackbar host for errors&#10;            Box(modifier = Modifier.fillMaxWidth()) {&#10;                SnackbarHost(hostState = snackbarHostState, modifier = Modifier.align(Alignment.TopCenter))&#10;            }&#10;&#10;            PrimaryButton(&#10;                text = if (isAdding) &quot;Adding...&quot; else &quot;Add A New Student&quot;,&#10;                onClick = {&#10;                    if (!isFormValid || isAdding) return@PrimaryButton&#10;                    isAdding = true&#10;                    viewModel.addStudent(&#10;                        fullName = studentName,&#10;                        gradeLevel = gradeLevel,&#10;                        pfpPath = profileImagePath,&#10;                        onSuccess = { studentId: Long -&gt;&#10;                            isAdding = false&#10;                            // Notify parent so it can navigate to the StudentAddedSuccessScreen (screen 24)&#10;                            onStudentAdded(studentName)&#10;                        },&#10;                        onError = { error: String -&gt;&#10;                            isAdding = false&#10;                            coroutineScope.launch {&#10;                                snackbarHostState.showSnackbar(error)&#10;                            }&#10;                        }&#10;                    )&#10;                },&#10;                enabled = isFormValid &amp;&amp; !isAdding,&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(vertical = 16.dp, horizontal = 8.dp)&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun AddStudentScreenPreview() {&#10;    AddStudentScreen(&#10;        onNavigateBack = {},&#10;        onStudentAdded = {}&#10;    )&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/classroom/ClassroomViewModel.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/classroom/ClassroomViewModel.kt" />
              <option name="originalContent" value="package com.example.app.ui.feature.classroom&#10;&#10;import android.app.Application&#10;import androidx.lifecycle.AndroidViewModel&#10;import androidx.lifecycle.viewModelScope&#10;import com.example.app.data.AppDatabase&#10;import com.example.app.data.SessionManager&#10;import com.example.app.data.entity.Class&#10;import com.example.app.data.repository.ClassRepository&#10;import com.example.app.data.repository.EnrollmentRepository&#10;import com.example.app.data.repository.StudentRepository&#10;import kotlinx.coroutines.flow.MutableStateFlow&#10;import kotlinx.coroutines.flow.StateFlow&#10;import kotlinx.coroutines.flow.asStateFlow&#10;import kotlinx.coroutines.launch&#10;&#10;/**&#10; * Data class representing a class with student count.&#10; */&#10;data class ClassWithCount(&#10;    val classEntity: Class,&#10;    val studentCount: Int&#10;)&#10;&#10;/**&#10; * Data class representing a student in the roster.&#10; */&#10;data class RosterStudent(&#10;    val studentId: Long,&#10;    val fullName: String,&#10;    val pfpPath: String?,&#10;    val enrollmentId: Long&#10;)&#10;&#10;/**&#10; * UI state for ClassScreen.&#10; */&#10;data class ClassListUiState(&#10;    val classes: List&lt;ClassWithCount&gt; = emptyList(),&#10;    val isLoading: Boolean = false,&#10;    val error: String? = null&#10;)&#10;&#10;/**&#10; * UI state for ClassDetailsScreen.&#10; */&#10;data class ClassDetailsUiState(&#10;    val classEntity: Class? = null,&#10;    val students: List&lt;RosterStudent&gt; = emptyList(),&#10;    val isLoading: Boolean = false,&#10;    val error: String? = null&#10;)&#10;&#10;/**&#10; * UI state for StudentDetailsScreen.&#10; */&#10;data class StudentDetailsUiState(&#10;    val studentName: String = &quot;&quot;,&#10;    val className: String = &quot;&quot;,&#10;    val pfpPath: String? = null,&#10;    val gradeLevel: String = &quot;&quot;,&#10;    val birthday: String = &quot;&quot;,&#10;    val totalPracticeMinutes: Int = 0,&#10;    val sessionsCompleted: Int = 0,&#10;    val vowelsProgress: Float = 0.0f,&#10;    val consonantsProgress: Float = 0.0f,&#10;    val stopsProgress: Float = 0.0f,&#10;    val firstTipTitle: String? = null,&#10;    val firstTipDescription: String? = null,&#10;    val firstTipSubtitle: String? = null,&#10;    val secondTipTitle: String? = null,&#10;    val secondTipDescription: String? = null,&#10;    val secondTipSubtitle: String? = null,&#10;    val isLoading: Boolean = false,&#10;    val error: String? = null&#10;)&#10;&#10;/**&#10; * ViewModel for classroom feature screens.&#10; * Manages class, student, and enrollment data.&#10; */&#10;class ClassroomViewModel(application: Application) : AndroidViewModel(application) {&#10;&#10;    private val database = AppDatabase.getInstance(application)&#10;    private val classRepository = ClassRepository(database.classDao())&#10;    private val studentRepository = StudentRepository(database.studentDao())&#10;    private val enrollmentRepository =&#10;        EnrollmentRepository(database.enrollmentDao(), database.studentDao())&#10;    private val sessionManager = SessionManager.getInstance(application)&#10;&#10;    private val _classListUiState = MutableStateFlow(ClassListUiState())&#10;    val classListUiState: StateFlow&lt;ClassListUiState&gt; = _classListUiState.asStateFlow()&#10;&#10;    private val _classDetailsUiState = MutableStateFlow(ClassDetailsUiState())&#10;    val classDetailsUiState: StateFlow&lt;ClassDetailsUiState&gt; = _classDetailsUiState.asStateFlow()&#10;&#10;    private val _studentDetailsUiState = MutableStateFlow(StudentDetailsUiState())&#10;    val studentDetailsUiState: StateFlow&lt;StudentDetailsUiState&gt; =&#10;        _studentDetailsUiState.asStateFlow()&#10;&#10;    // New: expose all students as a simple StateFlow of RosterStudent (enrollmentId = 0 when not applicable)&#10;    private val _allStudents = MutableStateFlow&lt;List&lt;RosterStudent&gt;&gt;(emptyList())&#10;    val allStudents: StateFlow&lt;List&lt;RosterStudent&gt;&gt; = _allStudents.asStateFlow()&#10;&#10;    init {&#10;        loadClasses()&#10;        loadAllStudents()&#10;    }&#10;&#10;    /**&#10;     * Load all classes for the current user.&#10;     */&#10;    fun loadClasses() {&#10;        viewModelScope.launch {&#10;            _classListUiState.value = _classListUiState.value.copy(isLoading = true)&#10;&#10;            sessionManager.currentUser.collect { user -&gt;&#10;                if (user != null) {&#10;                    classRepository.getActiveClassesByUserId(user.id).collect { classes -&gt;&#10;                        // Get student count for each class&#10;                        val classesWithCount = classes.map { classEntity -&gt;&#10;                            val studentCount =&#10;                                enrollmentRepository.getStudentCountByClassId(classEntity.classId)&#10;                            ClassWithCount(classEntity, studentCount)&#10;                        }&#10;&#10;                        _classListUiState.value = ClassListUiState(&#10;                            classes = classesWithCount,&#10;                            isLoading = false&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Load all students in the database and expose them as RosterStudent.&#10;     */&#10;    private fun loadAllStudents() {&#10;        viewModelScope.launch {&#10;            studentRepository.getAllStudentsFlow().collect { students -&gt;&#10;                val roster = students.map {&#10;                    RosterStudent(&#10;                        studentId = it.studentId,&#10;                        fullName = it.fullName,&#10;                        pfpPath = it.pfpPath,&#10;                        enrollmentId = 0L&#10;                    )&#10;                }&#10;                _allStudents.value = roster&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Load details for a specific class.&#10;     *&#10;     * @param classId The class ID to load&#10;     */&#10;    fun loadClassDetails(classId: Long) {&#10;        viewModelScope.launch {&#10;            _classDetailsUiState.value = _classDetailsUiState.value.copy(isLoading = true)&#10;&#10;            try {&#10;                val classEntity = classRepository.getClassById(classId)&#10;&#10;                if (classEntity != null) {&#10;                    enrollmentRepository.getStudentsWithEnrollmentByClassId(classId)&#10;                        .collect { studentsWithEnrollment -&gt;&#10;                            val rosterStudents = studentsWithEnrollment.map {&#10;                                RosterStudent(&#10;                                    studentId = it.student.studentId,&#10;                                    fullName = it.student.fullName,&#10;                                    pfpPath = it.student.pfpPath,&#10;                                    enrollmentId = it.enrollment.enrollmentId&#10;                                )&#10;                            }&#10;&#10;                            _classDetailsUiState.value = ClassDetailsUiState(&#10;                                classEntity = classEntity,&#10;                                students = rosterStudents,&#10;                                isLoading = false&#10;                            )&#10;                        }&#10;                } else {&#10;                    _classDetailsUiState.value = ClassDetailsUiState(&#10;                        error = &quot;Class not found&quot;,&#10;                        isLoading = false&#10;                    )&#10;                }&#10;            } catch (e: Exception) {&#10;                _classDetailsUiState.value = ClassDetailsUiState(&#10;                    error = &quot;Failed to load class: ${e.message}&quot;,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Load details for a specific student in a class (classId optional).&#10;     *&#10;     * @param studentId The student ID&#10;     * @param classId The class ID (nullable). When null, load student-only details without enrollment.&#10;     */&#10;    fun loadStudentDetails(studentId: Long, classId: Long? = null) {&#10;        viewModelScope.launch {&#10;            _studentDetailsUiState.value = _studentDetailsUiState.value.copy(isLoading = true)&#10;&#10;            try {&#10;                val student = studentRepository.getStudentById(studentId)&#10;&#10;                if (student == null) {&#10;                    _studentDetailsUiState.value = StudentDetailsUiState(&#10;                        error = &quot;Student not found&quot;,&#10;                        isLoading = false&#10;                    )&#10;                    return@launch&#10;                }&#10;&#10;                // Base state populated from student record&#10;                var uiState = StudentDetailsUiState(&#10;                    studentName = student.fullName,&#10;                    className = &quot;&quot;,&#10;                    pfpPath = student.pfpPath,&#10;                    gradeLevel = student.gradeLevel,&#10;                    birthday = student.birthday,&#10;                    isLoading = false&#10;                )&#10;&#10;                // If a classId is provided, try to load class and enrollment details&#10;                if (classId != null &amp;&amp; classId &gt; 0L) {&#10;                    val classEntity = classRepository.getClassById(classId)&#10;                    val enrollment =&#10;                        enrollmentRepository.getEnrollmentByStudentAndClass(studentId, classId)&#10;&#10;                    if (classEntity != null) uiState =&#10;                        uiState.copy(className = classEntity.className)&#10;&#10;                    if (enrollment != null) {&#10;                        uiState = uiState.copy(&#10;                            totalPracticeMinutes = enrollment.totalPracticeMinutes,&#10;                            sessionsCompleted = enrollment.sessionsCompleted,&#10;                            vowelsProgress = enrollment.vowelsProgress,&#10;                            consonantsProgress = enrollment.consonantsProgress,&#10;                            stopsProgress = enrollment.stopsProgress,&#10;                            firstTipTitle = enrollment.firstTipTitle,&#10;                            firstTipDescription = enrollment.firstTipDescription,&#10;                            firstTipSubtitle = enrollment.firstTipSubtitle,&#10;                            secondTipTitle = enrollment.secondTipTitle,&#10;                            secondTipDescription = enrollment.secondTipDescription,&#10;                            secondTipSubtitle = enrollment.secondTipSubtitle&#10;                        )&#10;                    }&#10;                }&#10;&#10;                _studentDetailsUiState.value = uiState&#10;            } catch (e: Exception) {&#10;                _studentDetailsUiState.value = StudentDetailsUiState(&#10;                    error = &quot;Failed to load student details: ${e.message}&quot;,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;&#10;    /**&#10;     * Create a new class.&#10;     *&#10;     * @param className The class name&#10;     * @param classCode The class code&#10;     * @param bannerPath Optional banner path&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun createClass(&#10;        className: String,&#10;        classCode: String,&#10;        bannerPath: String? = null,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            sessionManager.currentUser.value?.let { user -&gt;&#10;                when (val result =&#10;                    classRepository.createClass(user.id, className, classCode, bannerPath)) {&#10;                    is ClassRepository.ClassOperationResult.Success -&gt; onSuccess()&#10;                    is ClassRepository.ClassOperationResult.Error -&gt; onError(result.message)&#10;                }&#10;            } ?: onError(&quot;User not logged in&quot;)&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Update an existing class.&#10;     *&#10;     * @param classId The class ID&#10;     * @param className The new class name&#10;     * @param classCode The new class code&#10;     * @param bannerPath Optional new banner path&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun updateClass(&#10;        classId: Long,&#10;        className: String,&#10;        classCode: String,&#10;        bannerPath: String? = null,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result =&#10;                classRepository.updateClass(classId, className, classCode, bannerPath)) {&#10;                is ClassRepository.ClassOperationResult.Success -&gt; onSuccess()&#10;                is ClassRepository.ClassOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Archive a class.&#10;     *&#10;     * @param classId The class ID to archive&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun archiveClass(&#10;        classId: Long,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result = classRepository.archiveClass(classId)) {&#10;                is ClassRepository.ClassOperationResult.Success -&gt; onSuccess()&#10;                is ClassRepository.ClassOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Add a student and enroll them in a class.&#10;     *&#10;     * @param fullName Student's full name&#10;     * @param gradeLevel Student's grade level&#10;     * @param birthday Student's birthday&#10;     * @param pfpPath Optional profile picture path&#10;     * @param classId The class ID to enroll in&#10;     * @param onSuccess Callback on success with student ID&#10;     * @param onError Callback on error&#10;     */&#10;    fun addStudentToClass(&#10;        fullName: String,&#10;        gradeLevel: String,&#10;        birthday: String,&#10;        pfpPath: String?,&#10;        classId: Long,&#10;        onSuccess: (Long) -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val studentResult =&#10;                studentRepository.addStudent(fullName, gradeLevel, birthday, pfpPath)) {&#10;                is StudentRepository.StudentOperationResult.Success -&gt; {&#10;                    val studentId = studentResult.studentId&#10;                    when (val enrollResult =&#10;                        enrollmentRepository.enrollStudent(studentId, classId)) {&#10;                        is EnrollmentRepository.EnrollmentOperationResult.Success -&gt; onSuccess(&#10;                            studentId&#10;                        )&#10;&#10;                        is EnrollmentRepository.EnrollmentOperationResult.Error -&gt; onError(&#10;                            enrollResult.message&#10;                        )&#10;                    }&#10;                }&#10;&#10;                is StudentRepository.StudentOperationResult.Error -&gt; onError(studentResult.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Remove a student from a class (unenroll).&#10;     *&#10;     * @param studentId The student ID&#10;     * @param classId The class ID&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun removeStudentFromClass(&#10;        studentId: Long,&#10;        classId: Long,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result = enrollmentRepository.unenrollStudent(studentId, classId)) {&#10;                is EnrollmentRepository.EnrollmentOperationResult.Success -&gt; onSuccess()&#10;                is EnrollmentRepository.EnrollmentOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Update student information.&#10;     *&#10;     * @param studentId The student ID&#10;     * @param fullName New full name&#10;     * @param gradeLevel New grade level&#10;     * @param birthday New birthday&#10;     * @param pfpPath Optional new profile picture path&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun updateStudent(&#10;        studentId: Long,&#10;        fullName: String,&#10;        gradeLevel: String,&#10;        birthday: String,&#10;        pfpPath: String?,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result = studentRepository.updateStudent(&#10;                studentId,&#10;                fullName,&#10;                gradeLevel,&#10;                birthday,&#10;                pfpPath&#10;            )) {&#10;                is StudentRepository.StudentOperationResult.Success -&gt; onSuccess()&#10;                is StudentRepository.StudentOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Add a student without enrolling in a class.&#10;     * Kept for screens that create students independently.&#10;     */&#10;    fun addStudent(&#10;        fullName: String,&#10;        gradeLevel: String,&#10;        pfpPath: String?,&#10;        onSuccess: (Long) -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val studentResult =&#10;                studentRepository.addStudent(fullName, gradeLevel, &quot;&quot;, pfpPath)) {&#10;                is StudentRepository.StudentOperationResult.Success -&gt; onSuccess(studentResult.studentId)&#10;                is StudentRepository.StudentOperationResult.Error -&gt; onError(studentResult.message)&#10;            }&#10;        }&#10;    }&#10;&#10;}" />
              <option name="updatedContent" value="package com.example.app.ui.feature.classroom&#10;&#10;import android.app.Application&#10;import androidx.lifecycle.AndroidViewModel&#10;import androidx.lifecycle.viewModelScope&#10;import com.example.app.data.AppDatabase&#10;import com.example.app.data.SessionManager&#10;import com.example.app.data.entity.Class&#10;import com.example.app.data.repository.ClassRepository&#10;import com.example.app.data.repository.EnrollmentRepository&#10;import com.example.app.data.repository.StudentRepository&#10;import kotlinx.coroutines.flow.MutableStateFlow&#10;import kotlinx.coroutines.flow.StateFlow&#10;import kotlinx.coroutines.flow.asStateFlow&#10;import kotlinx.coroutines.launch&#10;&#10;/**&#10; * Data class representing a class with student count.&#10; */&#10;data class ClassWithCount(&#10;    val classEntity: Class,&#10;    val studentCount: Int&#10;)&#10;&#10;/**&#10; * Data class representing a student in the roster.&#10; */&#10;data class RosterStudent(&#10;    val studentId: Long,&#10;    val fullName: String,&#10;    val pfpPath: String?,&#10;    val enrollmentId: Long&#10;)&#10;&#10;/**&#10; * UI state for ClassScreen.&#10; */&#10;data class ClassListUiState(&#10;    val classes: List&lt;ClassWithCount&gt; = emptyList(),&#10;    val isLoading: Boolean = false,&#10;    val error: String? = null&#10;)&#10;&#10;/**&#10; * UI state for ClassDetailsScreen.&#10; */&#10;data class ClassDetailsUiState(&#10;    val classEntity: Class? = null,&#10;    val students: List&lt;RosterStudent&gt; = emptyList(),&#10;    val isLoading: Boolean = false,&#10;    val error: String? = null&#10;)&#10;&#10;/**&#10; * UI state for StudentDetailsScreen.&#10; */&#10;data class StudentDetailsUiState(&#10;    val studentName: String = &quot;&quot;,&#10;    val className: String = &quot;&quot;,&#10;    val pfpPath: String? = null,&#10;    val gradeLevel: String = &quot;&quot;,&#10;    val birthday: String = &quot;&quot;,&#10;    val totalPracticeMinutes: Int = 0,&#10;    val sessionsCompleted: Int = 0,&#10;    val vowelsProgress: Float = 0.0f,&#10;    val consonantsProgress: Float = 0.0f,&#10;    val stopsProgress: Float = 0.0f,&#10;    val firstTipTitle: String? = null,&#10;    val firstTipDescription: String? = null,&#10;    val firstTipSubtitle: String? = null,&#10;    val secondTipTitle: String? = null,&#10;    val secondTipDescription: String? = null,&#10;    val secondTipSubtitle: String? = null,&#10;    val isLoading: Boolean = false,&#10;    val error: String? = null&#10;)&#10;&#10;/**&#10; * ViewModel for classroom feature screens.&#10; * Manages class, student, and enrollment data.&#10; */&#10;class ClassroomViewModel(application: Application) : AndroidViewModel(application) {&#10;&#10;    private val database = AppDatabase.getInstance(application)&#10;    private val classRepository = ClassRepository(database.classDao())&#10;    private val studentRepository = StudentRepository(database.studentDao())&#10;    private val enrollmentRepository =&#10;        EnrollmentRepository(database.enrollmentDao(), database.studentDao())&#10;    private val sessionManager = SessionManager.getInstance(application)&#10;&#10;    private val _classListUiState = MutableStateFlow(ClassListUiState())&#10;    val classListUiState: StateFlow&lt;ClassListUiState&gt; = _classListUiState.asStateFlow()&#10;&#10;    private val _classDetailsUiState = MutableStateFlow(ClassDetailsUiState())&#10;    val classDetailsUiState: StateFlow&lt;ClassDetailsUiState&gt; = _classDetailsUiState.asStateFlow()&#10;&#10;    private val _studentDetailsUiState = MutableStateFlow(StudentDetailsUiState())&#10;    val studentDetailsUiState: StateFlow&lt;StudentDetailsUiState&gt; =&#10;        _studentDetailsUiState.asStateFlow()&#10;&#10;    // New: expose all students as a simple StateFlow of RosterStudent (enrollmentId = 0 when not applicable)&#10;    private val _allStudents = MutableStateFlow&lt;List&lt;RosterStudent&gt;&gt;(emptyList())&#10;    val allStudents: StateFlow&lt;List&lt;RosterStudent&gt;&gt; = _allStudents.asStateFlow()&#10;&#10;    init {&#10;        loadClasses()&#10;        loadAllStudents()&#10;    }&#10;&#10;    /**&#10;     * Load all classes for the current user.&#10;     */&#10;    fun loadClasses() {&#10;        viewModelScope.launch {&#10;            _classListUiState.value = _classListUiState.value.copy(isLoading = true)&#10;&#10;            sessionManager.currentUser.collect { user -&gt;&#10;                if (user != null) {&#10;                    classRepository.getActiveClassesByUserId(user.id).collect { classes -&gt;&#10;                        // Get student count for each class&#10;                        val classesWithCount = classes.map { classEntity -&gt;&#10;                            val studentCount =&#10;                                enrollmentRepository.getStudentCountByClassId(classEntity.classId)&#10;                            ClassWithCount(classEntity, studentCount)&#10;                        }&#10;&#10;                        _classListUiState.value = ClassListUiState(&#10;                            classes = classesWithCount,&#10;                            isLoading = false&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Load all students in the database and expose them as RosterStudent.&#10;     */&#10;    private fun loadAllStudents() {&#10;        viewModelScope.launch {&#10;            studentRepository.getAllStudentsFlow().collect { students -&gt;&#10;                val roster = students.map {&#10;                    RosterStudent(&#10;                        studentId = it.studentId,&#10;                        fullName = it.fullName,&#10;                        pfpPath = it.pfpPath,&#10;                        enrollmentId = 0L&#10;                    )&#10;                }&#10;                _allStudents.value = roster&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Load details for a specific class.&#10;     *&#10;     * @param classId The class ID to load&#10;     */&#10;    fun loadClassDetails(classId: Long) {&#10;        viewModelScope.launch {&#10;            _classDetailsUiState.value = _classDetailsUiState.value.copy(isLoading = true)&#10;&#10;            try {&#10;                val classEntity = classRepository.getClassById(classId)&#10;&#10;                if (classEntity != null) {&#10;                    enrollmentRepository.getStudentsWithEnrollmentByClassId(classId)&#10;                        .collect { studentsWithEnrollment -&gt;&#10;                            val rosterStudents = studentsWithEnrollment.map {&#10;                                RosterStudent(&#10;                                    studentId = it.student.studentId,&#10;                                    fullName = it.student.fullName,&#10;                                    pfpPath = it.student.pfpPath,&#10;                                    enrollmentId = it.enrollment.enrollmentId&#10;                                )&#10;                            }&#10;&#10;                            _classDetailsUiState.value = ClassDetailsUiState(&#10;                                classEntity = classEntity,&#10;                                students = rosterStudents,&#10;                                isLoading = false&#10;                            )&#10;                        }&#10;                } else {&#10;                    _classDetailsUiState.value = ClassDetailsUiState(&#10;                        error = &quot;Class not found&quot;,&#10;                        isLoading = false&#10;                    )&#10;                }&#10;            } catch (e: Exception) {&#10;                _classDetailsUiState.value = ClassDetailsUiState(&#10;                    error = &quot;Failed to load class: ${e.message}&quot;,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Load details for a specific student in a class (classId optional).&#10;     *&#10;     * @param studentId The student ID&#10;     * @param classId The class ID (nullable). When null, load student-only details without enrollment.&#10;     */&#10;    fun loadStudentDetails(studentId: Long, classId: Long? = null) {&#10;        viewModelScope.launch {&#10;            _studentDetailsUiState.value = _studentDetailsUiState.value.copy(isLoading = true)&#10;&#10;            try {&#10;                val student = studentRepository.getStudentById(studentId)&#10;&#10;                if (student == null) {&#10;                    _studentDetailsUiState.value = StudentDetailsUiState(&#10;                        error = &quot;Student not found&quot;,&#10;                        isLoading = false&#10;                    )&#10;                    return@launch&#10;                }&#10;&#10;                // Base state populated from student record&#10;                var uiState = StudentDetailsUiState(&#10;                    studentName = student.fullName,&#10;                    className = &quot;&quot;,&#10;                    pfpPath = student.pfpPath,&#10;                    gradeLevel = student.gradeLevel,&#10;                    birthday = student.birthday,&#10;                    isLoading = false&#10;                )&#10;&#10;                // If a classId is provided, try to load class and enrollment details&#10;                if (classId != null &amp;&amp; classId &gt; 0L) {&#10;                    val classEntity = classRepository.getClassById(classId)&#10;                    val enrollment =&#10;                        enrollmentRepository.getEnrollmentByStudentAndClass(studentId, classId)&#10;&#10;                    if (classEntity != null) uiState =&#10;                        uiState.copy(className = classEntity.className)&#10;&#10;                    if (enrollment != null) {&#10;                        uiState = uiState.copy(&#10;                            totalPracticeMinutes = enrollment.totalPracticeMinutes,&#10;                            sessionsCompleted = enrollment.sessionsCompleted,&#10;                            vowelsProgress = enrollment.vowelsProgress,&#10;                            consonantsProgress = enrollment.consonantsProgress,&#10;                            stopsProgress = enrollment.stopsProgress,&#10;                            firstTipTitle = enrollment.firstTipTitle,&#10;                            firstTipDescription = enrollment.firstTipDescription,&#10;                            firstTipSubtitle = enrollment.firstTipSubtitle,&#10;                            secondTipTitle = enrollment.secondTipTitle,&#10;                            secondTipDescription = enrollment.secondTipDescription,&#10;                            secondTipSubtitle = enrollment.secondTipSubtitle&#10;                        )&#10;                    }&#10;                }&#10;&#10;                _studentDetailsUiState.value = uiState&#10;            } catch (e: Exception) {&#10;                _studentDetailsUiState.value = StudentDetailsUiState(&#10;                    error = &quot;Failed to load student details: ${e.message}&quot;,&#10;                    isLoading = false&#10;                )&#10;            }&#10;        }&#10;    }&#10;&#10;&#10;    /**&#10;     * Create a new class.&#10;     *&#10;     * @param className The class name&#10;     * @param classCode The class code&#10;     * @param bannerPath Optional banner path&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun createClass(&#10;        className: String,&#10;        classCode: String,&#10;        bannerPath: String? = null,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            sessionManager.currentUser.value?.let { user -&gt;&#10;                when (val result =&#10;                    classRepository.createClass(user.id, className, classCode, bannerPath)) {&#10;                    is ClassRepository.ClassOperationResult.Success -&gt; onSuccess()&#10;                    is ClassRepository.ClassOperationResult.Error -&gt; onError(result.message)&#10;                }&#10;            } ?: onError(&quot;User not logged in&quot;)&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Update an existing class.&#10;     *&#10;     * @param classId The class ID&#10;     * @param className The new class name&#10;     * @param classCode The new class code&#10;     * @param bannerPath Optional new banner path&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun updateClass(&#10;        classId: Long,&#10;        className: String,&#10;        classCode: String,&#10;        bannerPath: String? = null,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result =&#10;                classRepository.updateClass(classId, className, classCode, bannerPath)) {&#10;                is ClassRepository.ClassOperationResult.Success -&gt; onSuccess()&#10;                is ClassRepository.ClassOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Archive a class.&#10;     *&#10;     * @param classId The class ID to archive&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun archiveClass(&#10;        classId: Long,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result = classRepository.archiveClass(classId)) {&#10;                is ClassRepository.ClassOperationResult.Success -&gt; onSuccess()&#10;                is ClassRepository.ClassOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Add a student and enroll them in a class.&#10;     *&#10;     * @param fullName Student's full name&#10;     * @param gradeLevel Student's grade level&#10;     * @param birthday Student's birthday&#10;     * @param pfpPath Optional profile picture path&#10;     * @param classId The class ID to enroll in&#10;     * @param onSuccess Callback on success with student ID&#10;     * @param onError Callback on error&#10;     */&#10;    fun addStudentToClass(&#10;        fullName: String,&#10;        gradeLevel: String,&#10;        birthday: String,&#10;        pfpPath: String?,&#10;        classId: Long,&#10;        onSuccess: (Long) -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val studentResult =&#10;                studentRepository.addStudent(fullName, gradeLevel, birthday, pfpPath)) {&#10;                is StudentRepository.StudentOperationResult.Success -&gt; {&#10;                    val studentId = studentResult.studentId&#10;                    when (val enrollResult =&#10;                        enrollmentRepository.enrollStudent(studentId, classId)) {&#10;                        is EnrollmentRepository.EnrollmentOperationResult.Success -&gt; onSuccess(&#10;                            studentId&#10;                        )&#10;&#10;                        is EnrollmentRepository.EnrollmentOperationResult.Error -&gt; onError(&#10;                            enrollResult.message&#10;                        )&#10;                    }&#10;                }&#10;&#10;                is StudentRepository.StudentOperationResult.Error -&gt; onError(studentResult.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Remove a student from a class (unenroll).&#10;     *&#10;     * @param studentId The student ID&#10;     * @param classId The class ID&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun removeStudentFromClass(&#10;        studentId: Long,&#10;        classId: Long,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result = enrollmentRepository.unenrollStudent(studentId, classId)) {&#10;                is EnrollmentRepository.EnrollmentOperationResult.Success -&gt; onSuccess()&#10;                is EnrollmentRepository.EnrollmentOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Update student information.&#10;     *&#10;     * @param studentId The student ID&#10;     * @param fullName New full name&#10;     * @param gradeLevel New grade level&#10;     * @param birthday New birthday&#10;     * @param pfpPath Optional new profile picture path&#10;     * @param onSuccess Callback on success&#10;     * @param onError Callback on error&#10;     */&#10;    fun updateStudent(&#10;        studentId: Long,&#10;        fullName: String,&#10;        gradeLevel: String,&#10;        birthday: String,&#10;        pfpPath: String?,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result = studentRepository.updateStudent(&#10;                studentId,&#10;                fullName,&#10;                gradeLevel,&#10;                birthday,&#10;                pfpPath&#10;            )) {&#10;                is StudentRepository.StudentOperationResult.Success -&gt; onSuccess()&#10;                is StudentRepository.StudentOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Add a student without enrolling in a class.&#10;     * Kept for screens that create students independently.&#10;     */&#10;    fun addStudent(&#10;        fullName: String,&#10;        gradeLevel: String,&#10;        pfpPath: String?,&#10;        onSuccess: (Long) -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val studentResult =&#10;                studentRepository.addStudent(fullName, gradeLevel, &quot;&quot;, pfpPath)) {&#10;                is StudentRepository.StudentOperationResult.Success -&gt; onSuccess(studentResult.studentId)&#10;                is StudentRepository.StudentOperationResult.Error -&gt; onError(studentResult.message)&#10;            }&#10;        }&#10;    }&#10;&#10;    /**&#10;     * Delete a student completely from the database (also cascades enrollments).&#10;     */&#10;    fun deleteStudent(&#10;        studentId: Long,&#10;        onSuccess: () -&gt; Unit,&#10;        onError: (String) -&gt; Unit&#10;    ) {&#10;        viewModelScope.launch {&#10;            when (val result = studentRepository.deleteStudent(studentId)) {&#10;                is StudentRepository.StudentOperationResult.Success -&gt; onSuccess()&#10;                is StudentRepository.StudentOperationResult.Error -&gt; onError(result.message)&#10;            }&#10;        }&#10;    }&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/classroom/StudentDetailsScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/classroom/StudentDetailsScreen.kt" />
              <option name="originalContent" value="package com.example.app.ui.feature.classroom&#10;&#10;import android.net.Uri&#10;import androidx.activity.compose.rememberLauncherForActivityResult&#10;import androidx.activity.result.contract.ActivityResultContracts&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material3.AlertDialog&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.ButtonDefaults&#10;import androidx.compose.material3.CircularProgressIndicator&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.OutlinedButton&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.TextButton&#10;import androidx.compose.material3.TextField&#10;import androidx.compose.material3.TextFieldDefaults&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import coil.compose.AsyncImage&#10;import com.example.app.R&#10;import com.example.app.util.ImageUtil&#10;import com.example.app.ui.components.classroom.AnalyticsCard&#10;import com.example.app.ui.components.classroom.ProgressItemCard&#10;import com.example.app.ui.components.classroom.ProgressStatus&#10;import com.example.app.ui.components.classroom.TipCard&#10;&#10;@Composable&#10;fun StudentDetailsScreen(&#10;    studentId: String,&#10;    studentName: String,&#10;    className: String,&#10;    onNavigateBack: () -&gt; Unit,&#10;    modifier: Modifier = Modifier,&#10;    classId: String = &quot;&quot;,&#10;    onEditStudent: () -&gt; Unit = {},&#10;    viewModel: ClassroomViewModel = viewModel()&#10;) {&#10;    val context = LocalContext.current&#10;    val uiState by viewModel.studentDetailsUiState.collectAsState()&#10;    &#10;    // State for edit dialogs&#10;    var showEditNameDialog by remember { mutableStateOf(false) }&#10;    var showEditPfpDialog by remember { mutableStateOf(false) }&#10;    var editedName by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    // Image picker launcher&#10;    val imagePickerLauncher = rememberLauncherForActivityResult(&#10;        contract = ActivityResultContracts.GetContent()&#10;    ) { uri: Uri? -&gt;&#10;        uri?.let {&#10;            // Save image to internal storage&#10;            val savedPath = ImageUtil.saveImageToInternalStorage(context, it, &quot;profile&quot;)&#10;            // Save immediately after selecting&#10;            viewModel.updateStudent(&#10;                studentId = studentId.toLongOrNull() ?: 0L,&#10;                fullName = uiState.studentName,&#10;                gradeLevel = uiState.gradeLevel,&#10;                birthday = uiState.birthday,&#10;                pfpPath = savedPath,&#10;                onSuccess = {&#10;                    // Reload student details&#10;                    viewModel.loadStudentDetails(&#10;                        studentId = studentId.toLongOrNull() ?: 0L,&#10;                        classId = classId.toLongOrNull()&#10;                    )&#10;                    showEditPfpDialog = false&#10;                },&#10;                onError = { error -&gt;&#10;                    // TODO: Show error toast/snackbar&#10;                }&#10;            )&#10;        }&#10;    }&#10;    &#10;    // Load student details when screen is first composed&#10;    LaunchedEffect(studentId, classId) {&#10;        // classId may be empty when navigating from the top-level ClassScreen; pass null in that case&#10;        viewModel.loadStudentDetails(&#10;            studentId = studentId.toLongOrNull() ?: 0L,&#10;            classId = classId.toLongOrNull()&#10;        )&#10;    }&#10;&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .verticalScroll(rememberScrollState())&#10;            .padding(horizontal = 20.dp)&#10;    ) {&#10;        Spacer(Modifier.height(24.dp))&#10;&#10;        // Back Button&#10;        IconButton(&#10;            onClick = { onNavigateBack() },&#10;            modifier = Modifier.offset(x = (-12).dp)&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                contentDescription = &quot;Back&quot;,&#10;                tint = Color(0xFF3FA9F8)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(12.dp))&#10;&#10;        // Show loading or error state&#10;        if (uiState.isLoading) {&#10;            Box(modifier = Modifier.fillMaxWidth(), contentAlignment = Alignment.Center) {&#10;                CircularProgressIndicator(color = Color(0xFF3FA9F8))&#10;            }&#10;        } else if (uiState.error != null) {&#10;            Text(&#10;                text = uiState.error!!,&#10;                fontSize = 16.sp,&#10;                color = Color.Red,&#10;                modifier = Modifier.padding(horizontal = 24.dp)&#10;            )&#10;        } else {&#10;            // Student Name with Edit Icon - Centered in Blue&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = uiState.studentName,&#10;                    fontSize = 32.sp,&#10;                    fontWeight = FontWeight.ExtraBold,&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;                Spacer(Modifier.width(12.dp))&#10;                Icon(&#10;                    imageVector = Icons.Default.Edit,&#10;                    contentDescription = &quot;Edit Student Name&quot;,&#10;                    tint = Color(0xFF3FA9F8),&#10;                    modifier = Modifier&#10;                        .size(24.dp)&#10;                        .clickable { &#10;                            editedName = uiState.studentName&#10;                            showEditNameDialog = true &#10;                        }&#10;                )&#10;            }&#10;&#10;            Spacer(Modifier.height(12.dp))&#10;&#10;            // Class Name - Centered&#10;            Box(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Text(&#10;                    text = uiState.className,&#10;                    fontSize = 18.sp,&#10;                    fontWeight = FontWeight.Normal,&#10;                    color = Color(0xFF0B0B0B)&#10;                )&#10;            }&#10;&#10;            Spacer(Modifier.height(24.dp))&#10;&#10;            // Profile Picture with Edit Overlay&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Box {&#10;                    uiState.pfpPath?.let { pfp -&gt;&#10;                        AsyncImage(&#10;                            model = java.io.File(pfp),&#10;                            contentDescription = &quot;Student Profile&quot;,&#10;                            modifier = Modifier&#10;                                .size(200.dp)&#10;                                .clip(RoundedCornerShape(16.dp)),&#10;                            contentScale = ContentScale.Crop,&#10;                            error = painterResource(id = R.drawable.dis_default_pfp)&#10;                        )&#10;                    } ?: run {&#10;                        Image(&#10;                            painter = painterResource(id = R.drawable.dis_default_pfp),&#10;                            contentDescription = &quot;Student Profile&quot;,&#10;                            modifier = Modifier&#10;                                .size(200.dp)&#10;                                .clip(RoundedCornerShape(16.dp)),&#10;                            contentScale = ContentScale.Crop&#10;                        )&#10;                    }&#10;                    &#10;                    // Edit icon overlay&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .align(Alignment.BottomEnd)&#10;                            .offset(x = (-8).dp, y = (-8).dp)&#10;                            .size(40.dp)&#10;                            .background(Color(0xFF3FA9F8), CircleShape)&#10;                            .clickable { showEditPfpDialog = true },&#10;                        contentAlignment = Alignment.Center&#10;                    ) {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Edit,&#10;                            contentDescription = &quot;Edit Profile Picture&quot;,&#10;                            tint = Color.White,&#10;                            modifier = Modifier.size(20.dp)&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;            Spacer(Modifier.height(32.dp))&#10;&#10;        // Analytics Section&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.ic_analytics),&#10;                contentDescription = &quot;Analytics&quot;,&#10;                tint = Color(0xFF3FA9F8),&#10;                modifier = Modifier.size(28.dp)&#10;            )&#10;            Spacer(Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Analytics&quot;,&#10;                fontSize = 24.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color(0xFF3FA9F8)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(16.dp))&#10;&#10;        // Analytics Cards&#10;        Row(&#10;            horizontalArrangement = Arrangement.spacedBy(12.dp),&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            AnalyticsCard(&#10;                iconRes = R.drawable.ic_time,&#10;                value = &quot;${uiState.totalPracticeMinutes} mins&quot;,&#10;                label = &quot;Total Practice Time&quot;,&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;            AnalyticsCard(&#10;                iconRes = R.drawable.ic_sessions,&#10;                value = uiState.sessionsCompleted.toString(),&#10;                label = &quot;Sessions Completed&quot;,&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(32.dp))&#10;&#10;        // Progress Section&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.ic_progress),&#10;                contentDescription = &quot;Progress&quot;,&#10;                tint = Color(0xFF3FA9F8),&#10;                modifier = Modifier.size(28.dp)&#10;            )&#10;            Spacer(Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Progress&quot;,&#10;                fontSize = 24.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color(0xFF3FA9F8)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(16.dp))&#10;&#10;        // Progress Items&#10;        ProgressItemCard(&#10;            iconRes = R.drawable.ic_apple,&#10;            title = &quot;Vowels&quot;,&#10;            status = ProgressStatus.COMPLETED,&#10;            progress = 1f&#10;        )&#10;&#10;        Spacer(Modifier.height(12.dp))&#10;&#10;        ProgressItemCard(&#10;            iconRes = R.drawable.ic_ball,&#10;            title = &quot;Consonants&quot;,&#10;            status = ProgressStatus.IN_PROGRESS,&#10;            progress = 0.6f&#10;        )&#10;&#10;        Spacer(Modifier.height(12.dp))&#10;&#10;        ProgressItemCard(&#10;            iconRes = R.drawable.ic_flower,&#10;            title = &quot;Stops&quot;,&#10;            status = ProgressStatus.NOT_STARTED,&#10;            progress = 0f&#10;        )&#10;&#10;        Spacer(Modifier.height(32.dp))&#10;&#10;        // Kuu's Tips Section&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.ic_bulb),&#10;                contentDescription = &quot;Tips&quot;,&#10;                tint = Color(0xFF3FA9F8),&#10;                modifier = Modifier.size(28.dp)&#10;            )&#10;            Spacer(Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Kuu's Tips&quot;,&#10;                fontSize = 24.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color(0xFF3FA9F8)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(16.dp))&#10;&#10;        // Tip Cards - Always show with default messages if empty&#10;        TipCard(&#10;            title = uiState.firstTipTitle ?: &quot;Keep Up the Great Work!&quot;,&#10;            description = uiState.firstTipDescription ?: &quot;You're doing an amazing job! Keep practicing regularly to build strong foundations. Every session brings you closer to mastery.&quot;,&#10;            subtitle = uiState.firstTipSubtitle ?: &quot;AI-Generated Suggestion&quot;,&#10;            backgroundColor = Color(0xFFEDBB00)&#10;        )&#10;        &#10;        Spacer(Modifier.height(12.dp))&#10;&#10;        TipCard(&#10;            title = uiState.secondTipTitle ?: &quot;Practice Makes Progress!&quot;,&#10;            description = uiState.secondTipDescription ?: &quot;Remember, learning is a journey! Stay consistent with your practice sessions and celebrate every small achievement along the way.&quot;,&#10;            subtitle = uiState.secondTipSubtitle ?: &quot;Based on your recent session&quot;,&#10;            backgroundColor = Color(0xFF9067F7)&#10;        )&#10;&#10;        Spacer(Modifier.height(100.dp))&#10;        }&#10;    }&#10;    &#10;    // Edit Name Dialog&#10;    if (showEditNameDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showEditNameDialog = false },&#10;            containerColor = Color.White,&#10;            title = {&#10;                Text(&#10;                    text = &quot;Edit Student Name&quot;,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;            },&#10;            text = {&#10;                Column {&#10;                    Text(&#10;                        text = &quot;Enter the new name for this student:&quot;,&#10;                        fontSize = 14.sp,&#10;                        color = Color(0xFF666666)&#10;                    )&#10;                    Spacer(Modifier.height(16.dp))&#10;                    TextField(&#10;                        value = editedName,&#10;                        onValueChange = { editedName = it },&#10;                        placeholder = {&#10;                            Text(&#10;                                text = &quot;Student Name&quot;,&#10;                                color = Color(0xFF999999)&#10;                            )&#10;                        },&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = TextFieldDefaults.colors(&#10;                            focusedIndicatorColor = Color(0xFF3FA9F8),&#10;                            unfocusedIndicatorColor = Color(0xFF3FA9F8),&#10;                            focusedContainerColor = Color.Transparent,&#10;                            unfocusedContainerColor = Color.Transparent,&#10;                            focusedTextColor = Color.Black,&#10;                            unfocusedTextColor = Color.Black&#10;                        ),&#10;                        singleLine = true&#10;                    )&#10;                }&#10;            },&#10;            confirmButton = {&#10;                Button(&#10;                    onClick = {&#10;                        if (editedName.isNotBlank()) {&#10;                            viewModel.updateStudent(&#10;                                studentId = studentId.toLongOrNull() ?: 0L,&#10;                                fullName = editedName,&#10;                                gradeLevel = uiState.gradeLevel,&#10;                                birthday = uiState.birthday,&#10;                                pfpPath = uiState.pfpPath,&#10;                                onSuccess = {&#10;                                    // Reload student details&#10;                                    viewModel.loadStudentDetails(&#10;                                        studentId = studentId.toLongOrNull() ?: 0L,&#10;                                        classId = classId.toLongOrNull()&#10;                                    )&#10;                                    showEditNameDialog = false&#10;                                },&#10;                                onError = { error -&gt;&#10;                                    // TODO: Show error toast/snackbar&#10;                                }&#10;                            )&#10;                        }&#10;                    },&#10;                    colors = ButtonDefaults.buttonColors(&#10;                        containerColor = Color(0xFF3FA9F8)&#10;                    ),&#10;                    enabled = editedName.isNotBlank()&#10;                ) {&#10;                    Text(&quot;Save&quot;, color = Color.White)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = { showEditNameDialog = false }) {&#10;                    Text(&quot;Cancel&quot;, color = Color(0xFF3FA9F8))&#10;                }&#10;            }&#10;        )&#10;    }&#10;    &#10;    // Edit Profile Picture Dialog&#10;    if (showEditPfpDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showEditPfpDialog = false },&#10;            containerColor = Color.White,&#10;            title = {&#10;                Text(&#10;                    text = &quot;Edit Profile Picture&quot;,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;            },&#10;            text = {&#10;                Column {&#10;                    Text(&#10;                        text = &quot;Choose an option:&quot;,&#10;                        fontSize = 14.sp,&#10;                        color = Color(0xFF666666)&#10;                    )&#10;                    Spacer(Modifier.height(20.dp))&#10;                    &#10;                    // Upload New Picture Button&#10;                    Button(&#10;                        onClick = {&#10;                            imagePickerLauncher.launch(&quot;image/*&quot;)&#10;                        },&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = ButtonDefaults.buttonColors(&#10;                            containerColor = Color(0xFF3FA9F8)&#10;                        ),&#10;                        shape = RoundedCornerShape(12.dp)&#10;                    ) {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Add,&#10;                            contentDescription = null,&#10;                            tint = Color.White,&#10;                            modifier = Modifier.size(20.dp)&#10;                        )&#10;                        Spacer(Modifier.width(8.dp))&#10;                        Text(&#10;                            text = &quot;Upload New Picture&quot;,&#10;                            color = Color.White,&#10;                            fontWeight = FontWeight.Medium&#10;                        )&#10;                    }&#10;                    &#10;                    Spacer(Modifier.height(12.dp))&#10;                    &#10;                    // Remove Picture Button (only show if there's a custom picture)&#10;                    if (uiState.pfpPath != null) {&#10;                        OutlinedButton(&#10;                            onClick = {&#10;                                // Delete the old image file&#10;                                uiState.pfpPath?.let { path -&gt;&#10;                                    ImageUtil.deleteImage(path)&#10;                                }&#10;                                &#10;                                viewModel.updateStudent(&#10;                                    studentId = studentId.toLongOrNull() ?: 0L,&#10;                                    fullName = uiState.studentName,&#10;                                    gradeLevel = uiState.gradeLevel,&#10;                                    birthday = uiState.birthday,&#10;                                    pfpPath = null,&#10;                                    onSuccess = {&#10;                                        // Reload student details&#10;                                        viewModel.loadStudentDetails(&#10;                                            studentId = studentId.toLongOrNull() ?: 0L,&#10;                                            classId = classId.toLongOrNull()&#10;                                        )&#10;                                        showEditPfpDialog = false&#10;                                    },&#10;                                    onError = { error -&gt;&#10;                                        // TODO: Show error toast/snackbar&#10;                                    }&#10;                                )&#10;                            },&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            shape = RoundedCornerShape(12.dp),&#10;                            border = androidx.compose.foundation.BorderStroke(2.dp, Color(0xFFFF5252))&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = Icons.Default.Delete,&#10;                                contentDescription = null,&#10;                                tint = Color(0xFFFF5252),&#10;                                modifier = Modifier.size(20.dp)&#10;                            )&#10;                            Spacer(Modifier.width(8.dp))&#10;                            Text(&#10;                                text = &quot;Remove Picture&quot;,&#10;                                color = Color(0xFFFF5252),&#10;                                fontWeight = FontWeight.Medium&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            },&#10;            confirmButton = {},&#10;            dismissButton = {&#10;                TextButton(onClick = { showEditPfpDialog = false }) {&#10;                    Text(&quot;Cancel&quot;, color = Color(0xFF3FA9F8))&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.app.ui.feature.classroom&#10;&#10;import android.net.Uri&#10;import androidx.activity.compose.rememberLauncherForActivityResult&#10;import androidx.activity.result.contract.ActivityResultContracts&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowBack&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material3.AlertDialog&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.ButtonDefaults&#10;import androidx.compose.material3.CircularProgressIndicator&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.OutlinedButton&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.TextButton&#10;import androidx.compose.material3.TextField&#10;import androidx.compose.material3.TextFieldDefaults&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import coil.compose.AsyncImage&#10;import com.example.app.R&#10;import com.example.app.util.ImageUtil&#10;import com.example.app.ui.components.classroom.AnalyticsCard&#10;import com.example.app.ui.components.classroom.ProgressItemCard&#10;import com.example.app.ui.components.classroom.ProgressStatus&#10;import com.example.app.ui.components.classroom.TipCard&#10;&#10;@Composable&#10;fun StudentDetailsScreen(&#10;    studentId: String,&#10;    studentName: String,&#10;    className: String,&#10;    onNavigateBack: () -&gt; Unit,&#10;    modifier: Modifier = Modifier,&#10;    classId: String = &quot;&quot;,&#10;    onEditStudent: () -&gt; Unit = {},&#10;    viewModel: ClassroomViewModel = viewModel()&#10;) {&#10;    val context = LocalContext.current&#10;    val uiState by viewModel.studentDetailsUiState.collectAsState()&#10;    &#10;    // State for edit dialogs&#10;    var showEditNameDialog by remember { mutableStateOf(false) }&#10;    var showEditPfpDialog by remember { mutableStateOf(false) }&#10;    var editedName by remember { mutableStateOf(&quot;&quot;) }&#10;    &#10;    // Image picker launcher&#10;    val imagePickerLauncher = rememberLauncherForActivityResult(&#10;        contract = ActivityResultContracts.GetContent()&#10;    ) { uri: Uri? -&gt;&#10;        uri?.let {&#10;            // Save image to internal storage&#10;            val savedPath = ImageUtil.saveImageToInternalStorage(context, it, &quot;profile&quot;)&#10;            // Save immediately after selecting&#10;            viewModel.updateStudent(&#10;                studentId = studentId.toLongOrNull() ?: 0L,&#10;                fullName = uiState.studentName,&#10;                gradeLevel = uiState.gradeLevel,&#10;                birthday = uiState.birthday,&#10;                pfpPath = savedPath,&#10;                onSuccess = {&#10;                    // Reload student details&#10;                    viewModel.loadStudentDetails(&#10;                        studentId = studentId.toLongOrNull() ?: 0L,&#10;                        classId = classId.toLongOrNull()&#10;                    )&#10;                    showEditPfpDialog = false&#10;                },&#10;                onError = { error -&gt;&#10;                    // TODO: Show error toast/snackbar&#10;                }&#10;            )&#10;        }&#10;    }&#10;    &#10;    // Load student details when screen is first composed&#10;    LaunchedEffect(studentId, classId) {&#10;        // classId may be empty when navigating from the top-level ClassScreen; pass null in that case&#10;        viewModel.loadStudentDetails(&#10;            studentId = studentId.toLongOrNull() ?: 0L,&#10;            classId = classId.toLongOrNull()&#10;        )&#10;    }&#10;&#10;    Column(&#10;        modifier = modifier&#10;            .fillMaxSize()&#10;            .verticalScroll(rememberScrollState())&#10;            .padding(horizontal = 20.dp)&#10;    ) {&#10;        Spacer(Modifier.height(24.dp))&#10;&#10;        // Back Button&#10;        IconButton(&#10;            onClick = { onNavigateBack() },&#10;            modifier = Modifier.offset(x = (-12).dp)&#10;        ) {&#10;            Icon(&#10;                imageVector = Icons.AutoMirrored.Filled.ArrowBack,&#10;                contentDescription = &quot;Back&quot;,&#10;                tint = Color(0xFF3FA9F8)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(12.dp))&#10;&#10;        // Show loading or error state&#10;        if (uiState.isLoading) {&#10;            Box(modifier = Modifier.fillMaxWidth(), contentAlignment = Alignment.Center) {&#10;                CircularProgressIndicator(color = Color(0xFF3FA9F8))&#10;            }&#10;        } else if (uiState.error != null) {&#10;            Text(&#10;                text = uiState.error!!,&#10;                fontSize = 16.sp,&#10;                color = Color.Red,&#10;                modifier = Modifier.padding(horizontal = 24.dp)&#10;            )&#10;        } else {&#10;            // Student Name with Edit Icon - Centered in Blue&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = uiState.studentName,&#10;                    fontSize = 32.sp,&#10;                    fontWeight = FontWeight.ExtraBold,&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;                Spacer(Modifier.width(12.dp))&#10;                Icon(&#10;                    imageVector = Icons.Default.Edit,&#10;                    contentDescription = &quot;Edit Student Name&quot;,&#10;                    tint = Color(0xFF3FA9F8),&#10;                    modifier = Modifier&#10;                        .size(24.dp)&#10;                        .clickable { &#10;                            editedName = uiState.studentName&#10;                            showEditNameDialog = true &#10;                        }&#10;                )&#10;            }&#10;&#10;            Spacer(Modifier.height(12.dp))&#10;&#10;            // Class Name - Centered&#10;            Box(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Text(&#10;                    text = uiState.className,&#10;                    fontSize = 18.sp,&#10;                    fontWeight = FontWeight.Normal,&#10;                    color = Color(0xFF0B0B0B)&#10;                )&#10;            }&#10;&#10;            Spacer(Modifier.height(24.dp))&#10;&#10;            // Profile Picture with Edit Overlay&#10;            Box(&#10;                modifier = Modifier&#10;                    .fillMaxWidth(),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Box {&#10;                    uiState.pfpPath?.let { pfp -&gt;&#10;                        AsyncImage(&#10;                            model = java.io.File(pfp),&#10;                            contentDescription = &quot;Student Profile&quot;,&#10;                            modifier = Modifier&#10;                                .size(200.dp)&#10;                                .clip(RoundedCornerShape(16.dp)),&#10;                            contentScale = ContentScale.Crop,&#10;                            error = painterResource(id = R.drawable.dis_default_pfp)&#10;                        )&#10;                    } ?: run {&#10;                        Image(&#10;                            painter = painterResource(id = R.drawable.dis_default_pfp),&#10;                            contentDescription = &quot;Student Profile&quot;,&#10;                            modifier = Modifier&#10;                                .size(200.dp)&#10;                                .clip(RoundedCornerShape(16.dp)),&#10;                            contentScale = ContentScale.Crop&#10;                        )&#10;                    }&#10;                    &#10;                    // Edit icon overlay&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .align(Alignment.BottomEnd)&#10;                            .offset(x = (-8).dp, y = (-8).dp)&#10;                            .size(40.dp)&#10;                            .background(Color(0xFF3FA9F8), CircleShape)&#10;                            .clickable { showEditPfpDialog = true },&#10;                        contentAlignment = Alignment.Center&#10;                    ) {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Edit,&#10;                            contentDescription = &quot;Edit Profile Picture&quot;,&#10;                            tint = Color.White,&#10;                            modifier = Modifier.size(20.dp)&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;            Spacer(Modifier.height(32.dp))&#10;&#10;        // Analytics Section&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.ic_analytics),&#10;                contentDescription = &quot;Analytics&quot;,&#10;                tint = Color(0xFF3FA9F8),&#10;                modifier = Modifier.size(28.dp)&#10;            )&#10;            Spacer(Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Analytics&quot;,&#10;                fontSize = 24.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color(0xFF3FA9F8)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(16.dp))&#10;&#10;        // Analytics Cards&#10;        Row(&#10;            horizontalArrangement = Arrangement.spacedBy(12.dp),&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            AnalyticsCard(&#10;                iconRes = R.drawable.ic_time,&#10;                value = &quot;${uiState.totalPracticeMinutes} mins&quot;,&#10;                label = &quot;Total Practice Time&quot;,&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;            AnalyticsCard(&#10;                iconRes = R.drawable.ic_sessions,&#10;                value = uiState.sessionsCompleted.toString(),&#10;                label = &quot;Sessions Completed&quot;,&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(32.dp))&#10;&#10;        // Progress Section&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.ic_progress),&#10;                contentDescription = &quot;Progress&quot;,&#10;                tint = Color(0xFF3FA9F8),&#10;                modifier = Modifier.size(28.dp)&#10;            )&#10;            Spacer(Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Progress&quot;,&#10;                fontSize = 24.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color(0xFF3FA9F8)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(16.dp))&#10;&#10;        // Progress Items&#10;        ProgressItemCard(&#10;            iconRes = R.drawable.ic_apple,&#10;            title = &quot;Vowels&quot;,&#10;            status = ProgressStatus.COMPLETED,&#10;            progress = 1f&#10;        )&#10;&#10;        Spacer(Modifier.height(12.dp))&#10;&#10;        ProgressItemCard(&#10;            iconRes = R.drawable.ic_ball,&#10;            title = &quot;Consonants&quot;,&#10;            status = ProgressStatus.IN_PROGRESS,&#10;            progress = 0.6f&#10;        )&#10;&#10;        Spacer(Modifier.height(12.dp))&#10;&#10;        ProgressItemCard(&#10;            iconRes = R.drawable.ic_flower,&#10;            title = &quot;Stops&quot;,&#10;            status = ProgressStatus.NOT_STARTED,&#10;            progress = 0f&#10;        )&#10;&#10;        Spacer(Modifier.height(32.dp))&#10;&#10;        // Kuu's Tips Section&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            Icon(&#10;                painter = painterResource(id = R.drawable.ic_bulb),&#10;                contentDescription = &quot;Tips&quot;,&#10;                tint = Color(0xFF3FA9F8),&#10;                modifier = Modifier.size(28.dp)&#10;            )&#10;            Spacer(Modifier.width(8.dp))&#10;            Text(&#10;                text = &quot;Kuu's Tips&quot;,&#10;                fontSize = 24.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color(0xFF3FA9F8)&#10;            )&#10;        }&#10;&#10;        Spacer(Modifier.height(16.dp))&#10;&#10;        // Tip Cards - Always show with default messages if empty&#10;        TipCard(&#10;            title = uiState.firstTipTitle ?: &quot;Keep Up the Great Work!&quot;,&#10;            description = uiState.firstTipDescription ?: &quot;You're doing an amazing job! Keep practicing regularly to build strong foundations. Every session brings you closer to mastery.&quot;,&#10;            subtitle = uiState.firstTipSubtitle ?: &quot;AI-Generated Suggestion&quot;,&#10;            backgroundColor = Color(0xFFEDBB00)&#10;        )&#10;        &#10;        Spacer(Modifier.height(12.dp))&#10;&#10;        TipCard(&#10;            title = uiState.secondTipTitle ?: &quot;Practice Makes Progress!&quot;,&#10;            description = uiState.secondTipDescription ?: &quot;Remember, learning is a journey! Stay consistent with your practice sessions and celebrate every small achievement along the way.&quot;,&#10;            subtitle = uiState.secondTipSubtitle ?: &quot;Based on your recent session&quot;,&#10;            backgroundColor = Color(0xFF9067F7)&#10;        )&#10;&#10;        Spacer(Modifier.height(100.dp))&#10;        }&#10;    }&#10;    &#10;    // Edit Name Dialog&#10;    if (showEditNameDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showEditNameDialog = false },&#10;            containerColor = Color.White,&#10;            title = {&#10;                Text(&#10;                    text = &quot;Edit Student Name&quot;,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;            },&#10;            text = {&#10;                Column {&#10;                    Text(&#10;                        text = &quot;Enter the new name for this student:&quot;,&#10;                        fontSize = 14.sp,&#10;                        color = Color(0xFF666666)&#10;                    )&#10;                    Spacer(Modifier.height(16.dp))&#10;                    TextField(&#10;                        value = editedName,&#10;                        onValueChange = { editedName = it },&#10;                        placeholder = {&#10;                            Text(&#10;                                text = &quot;Student Name&quot;,&#10;                                color = Color(0xFF999999)&#10;                            )&#10;                        },&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = TextFieldDefaults.colors(&#10;                            focusedIndicatorColor = Color(0xFF3FA9F8),&#10;                            unfocusedIndicatorColor = Color(0xFF3FA9F8),&#10;                            focusedContainerColor = Color.Transparent,&#10;                            unfocusedContainerColor = Color.Transparent,&#10;                            focusedTextColor = Color.Black,&#10;                            unfocusedTextColor = Color.Black&#10;                        ),&#10;                        singleLine = true&#10;                    )&#10;                }&#10;            },&#10;            confirmButton = {&#10;                Button(&#10;                    onClick = {&#10;                        if (editedName.isNotBlank()) {&#10;                            viewModel.updateStudent(&#10;                                studentId = studentId.toLongOrNull() ?: 0L,&#10;                                fullName = editedName,&#10;                                gradeLevel = uiState.gradeLevel,&#10;                                birthday = uiState.birthday,&#10;                                pfpPath = uiState.pfpPath,&#10;                                onSuccess = {&#10;                                    // Reload student details&#10;                                    viewModel.loadStudentDetails(&#10;                                        studentId = studentId.toLongOrNull() ?: 0L,&#10;                                        classId = classId.toLongOrNull()&#10;                                    )&#10;                                    showEditNameDialog = false&#10;                                },&#10;                                onError = { error -&gt;&#10;                                    // TODO: Show error toast/snackbar&#10;                                }&#10;                            )&#10;                        }&#10;                    },&#10;                    colors = ButtonDefaults.buttonColors(&#10;                        containerColor = Color(0xFF3FA9F8)&#10;                    ),&#10;                    enabled = editedName.isNotBlank()&#10;                ) {&#10;                    Text(&quot;Save&quot;, color = Color.White)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = { showEditNameDialog = false }) {&#10;                    Text(&quot;Cancel&quot;, color = Color(0xFF3FA9F8))&#10;                }&#10;            }&#10;        )&#10;    }&#10;    &#10;    // Edit Profile Picture Dialog&#10;    if (showEditPfpDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showEditPfpDialog = false },&#10;            containerColor = Color.White,&#10;            title = {&#10;                Text(&#10;                    text = &quot;Edit Profile Picture&quot;,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = Color(0xFF3FA9F8)&#10;                )&#10;            },&#10;            text = {&#10;                Column {&#10;                    Text(&#10;                        text = &quot;Choose an option:&quot;,&#10;                        fontSize = 14.sp,&#10;                        color = Color(0xFF666666)&#10;                    )&#10;                    Spacer(Modifier.height(20.dp))&#10;                    &#10;                    // Upload New Picture Button&#10;                    Button(&#10;                        onClick = {&#10;                            imagePickerLauncher.launch(&quot;image/*&quot;)&#10;                        },&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = ButtonDefaults.buttonColors(&#10;                            containerColor = Color(0xFF3FA9F8)&#10;                        ),&#10;                        shape = RoundedCornerShape(12.dp)&#10;                    ) {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Add,&#10;                            contentDescription = null,&#10;                            tint = Color.White,&#10;                            modifier = Modifier.size(20.dp)&#10;                        )&#10;                        Spacer(Modifier.width(8.dp))&#10;                        Text(&#10;                            text = &quot;Upload New Picture&quot;,&#10;                            color = Color.White,&#10;                            fontWeight = FontWeight.Medium&#10;                        )&#10;                    }&#10;                    &#10;                    Spacer(Modifier.height(12.dp))&#10;                    &#10;                    // Remove Picture Button (only show if there's a custom picture)&#10;                    if (uiState.pfpPath != null) {&#10;                        OutlinedButton(&#10;                            onClick = {&#10;                                // Delete the old image file&#10;                                uiState.pfpPath?.let { path -&gt;&#10;                                    ImageUtil.deleteImage(path)&#10;                                }&#10;                                &#10;                                viewModel.updateStudent(&#10;                                    studentId = studentId.toLongOrNull() ?: 0L,&#10;                                    fullName = uiState.studentName,&#10;                                    gradeLevel = uiState.gradeLevel,&#10;                                    birthday = uiState.birthday,&#10;                                    pfpPath = null,&#10;                                    onSuccess = {&#10;                                        // Reload student details&#10;                                        viewModel.loadStudentDetails(&#10;                                            studentId = studentId.toLongOrNull() ?: 0L,&#10;                                            classId = classId.toLongOrNull()&#10;                                        )&#10;                                        showEditPfpDialog = false&#10;                                    },&#10;                                    onError = { error -&gt;&#10;                                        // TODO: Show error toast/snackbar&#10;                                    }&#10;                                )&#10;                            },&#10;                            modifier = Modifier.fillMaxWidth(),&#10;                            shape = RoundedCornerShape(12.dp),&#10;                            border = androidx.compose.foundation.BorderStroke(2.dp, Color(0xFFFF5252))&#10;                        ) {&#10;                            Icon(&#10;                                imageVector = Icons.Default.Delete,&#10;                                contentDescription = null,&#10;                                tint = Color(0xFFFF5252),&#10;                                modifier = Modifier.size(20.dp)&#10;                            )&#10;                            Spacer(Modifier.width(8.dp))&#10;                            Text(&#10;                                text = &quot;Remove Picture&quot;,&#10;                                color = Color(0xFFFF5252),&#10;                                fontWeight = FontWeight.Medium&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;            },&#10;            confirmButton = {},&#10;            dismissButton = {&#10;                TextButton(onClick = { showEditPfpDialog = false }) {&#10;                    Text(&quot;Cancel&quot;, color = Color(0xFF3FA9F8))&#10;                }&#10;            }&#10;        )&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/learn/tutorialmode/TutorialActivityCard.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/learn/tutorialmode/TutorialActivityCard.kt" />
              <option name="updatedContent" value="package com.example.app.ui.feature.learn.tutorialmode&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.draw.drawBehind&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.PathEffect&#10;import androidx.compose.ui.graphics.drawscope.Stroke&#10;import androidx.compose.ui.geometry.CornerRadius&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Check&#10;import androidx.compose.ui.text.style.TextAlign&#10;import com.example.app.R&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.material3.MaterialTheme&#10;&#10;/**&#10; * Component for displaying a tutorial activity card with icon and title.&#10; * Uses yellow/orange color scheme with dashed border.&#10; *&#10; * @param title The activity title&#10; * @param iconRes The resource ID of the icon image&#10; * @param isSelected Whether the card is selected&#10; * @param onClick Callback when card is clicked&#10; * @param modifier Optional modifier for the card&#10; */&#10;@Composable&#10;fun TutorialActivityCard(&#10;    title: String,&#10;    iconRes: Int,&#10;    isSelected: Boolean = false,&#10;    onClick: () -&gt; Unit = {},&#10;    modifier: Modifier = Modifier&#10;) {&#10;    val yellowColor = Color(0xFFEDBB00)&#10;    val lightYellowColor = Color(0x80EDBB00)&#10;    val greenColor = Color(0xFF4CAF50)&#10;&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .height(175.dp)&#10;            .clip(RoundedCornerShape(28.dp))&#10;            .background(if (isSelected) yellowColor else Color.Transparent)&#10;            .clickable { onClick() }&#10;            .then(&#10;                if (!isSelected) {&#10;                    Modifier.drawBehind {&#10;                        val pathEffect = PathEffect.dashPathEffect(floatArrayOf(30f, 20f), 0f)&#10;                        drawRoundRect(&#10;                            color = yellowColor,&#10;                            style = Stroke(width = 12f, pathEffect = pathEffect),&#10;                            cornerRadius = CornerRadius(28.dp.toPx())&#10;                        )&#10;                    }&#10;                } else {&#10;                    Modifier&#10;                }&#10;            )&#10;            .padding(12.dp)&#10;    ) {&#10;        // Selection circle at top right&#10;        Box(&#10;            modifier = Modifier&#10;                .align(Alignment.TopEnd)&#10;                .size(36.dp)&#10;                .clip(CircleShape)&#10;                .background(if (isSelected) Color.White else Color.Transparent)&#10;                .drawBehind {&#10;                    if (!isSelected) {&#10;                        drawCircle(&#10;                            color = yellowColor,&#10;                            style = Stroke(width = 4f)&#10;                        )&#10;                    }&#10;                },&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            if (isSelected) {&#10;                Icon(&#10;                    imageVector = Icons.Filled.Check,&#10;                    contentDescription = &quot;Selected&quot;,&#10;                    tint = greenColor,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;        }&#10;&#10;        Column(&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            verticalArrangement = Arrangement.Center,&#10;            modifier = Modifier.fillMaxSize()&#10;        ) {&#10;            // Icon Circle with Border&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(100.dp)&#10;                    .clip(CircleShape)&#10;                    .background(Color.Transparent)&#10;                    .drawBehind {&#10;                        drawCircle(&#10;                            color = if (isSelected) Color(0x40FFFFFF) else lightYellowColor,&#10;                            style = Stroke(width = 16f)&#10;                        )&#10;                    },&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Box(&#10;                    modifier = Modifier&#10;                        .size(80.dp)&#10;                        .clip(CircleShape)&#10;                        .background(if (isSelected) Color.White else yellowColor),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Image(&#10;                        painter = painterResource(id = iconRes),&#10;                        contentDescription = title,&#10;                        modifier = Modifier.size(60.dp),&#10;                        contentScale = ContentScale.Fit&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;&#10;            // Title&#10;            Text(&#10;                text = title,&#10;                fontSize = 24.sp,&#10;                fontWeight = FontWeight.Normal,&#10;                color = if (isSelected) Color.White else yellowColor,&#10;                textAlign = TextAlign.Center&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(&#10;    name = &quot;TutorialActivityCard Unselected&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFFFFFFFF&#10;)&#10;@Composable&#10;fun TutorialActivityCardPreview() {&#10;    MaterialTheme {&#10;        TutorialActivityCard(&#10;            title = &quot;Vowels&quot;,&#10;            iconRes = R.drawable.ic_apple,&#10;            isSelected = false,&#10;            onClick = {}&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(&#10;    name = &quot;TutorialActivityCard Selected&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFFFFFFFF&#10;)&#10;@Composable&#10;fun TutorialActivityCardSelectedPreview() {&#10;    MaterialTheme {&#10;        TutorialActivityCard(&#10;            title = &quot;Vowels&quot;,&#10;            iconRes = R.drawable.ic_apple,&#10;            isSelected = true,&#10;            onClick = {}&#10;        )&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/learn/tutorialmode/components/tutorial/TutorialActivityCard.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/app/ui/feature/learn/tutorialmode/components/tutorial/TutorialActivityCard.kt" />
              <option name="updatedContent" value="package com.example.app.ui.feature.learn.tutorialmode.components.tutorial&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.draw.drawBehind&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.PathEffect&#10;import androidx.compose.ui.graphics.drawscope.Stroke&#10;import androidx.compose.ui.geometry.CornerRadius&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Check&#10;import androidx.compose.ui.text.style.TextAlign&#10;import com.example.app.R&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.material3.MaterialTheme&#10;&#10;/**&#10; * Component for displaying a tutorial activity card with icon and title.&#10; * Uses yellow/orange color scheme with dashed border.&#10; *&#10; * @param title The activity title&#10; * @param iconRes The resource ID of the icon image&#10; * @param isSelected Whether the card is selected&#10; * @param onClick Callback when card is clicked&#10; * @param modifier Optional modifier for the card&#10; */&#10;@Composable&#10;fun TutorialActivityCard(&#10;    title: String,&#10;    iconRes: Int,&#10;    isSelected: Boolean = false,&#10;    onClick: () -&gt; Unit = {},&#10;    modifier: Modifier = Modifier&#10;) {&#10;    val yellowColor = Color(0xFFEDBB00)&#10;    val lightYellowColor = Color(0x80EDBB00)&#10;    val greenColor = Color(0xFF4CAF50)&#10;&#10;    Box(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .height(175.dp)&#10;            .clip(RoundedCornerShape(28.dp))&#10;            .background(if (isSelected) yellowColor else Color.Transparent)&#10;            .clickable { onClick() }&#10;            .then(&#10;                if (!isSelected) {&#10;                    Modifier.drawBehind {&#10;                        val pathEffect = PathEffect.dashPathEffect(floatArrayOf(30f, 20f), 0f)&#10;                        drawRoundRect(&#10;                            color = yellowColor,&#10;                            style = Stroke(width = 12f, pathEffect = pathEffect),&#10;                            cornerRadius = CornerRadius(28.dp.toPx())&#10;                        )&#10;                    }&#10;                } else {&#10;                    Modifier&#10;                }&#10;            )&#10;            .padding(12.dp)&#10;    ) {&#10;        // Selection circle at top right&#10;        Box(&#10;            modifier = Modifier&#10;                .align(Alignment.TopEnd)&#10;                .size(36.dp)&#10;                .clip(CircleShape)&#10;                .background(if (isSelected) Color.White else Color.Transparent)&#10;                .drawBehind {&#10;                    if (!isSelected) {&#10;                        drawCircle(&#10;                            color = yellowColor,&#10;                            style = Stroke(width = 4f)&#10;                        )&#10;                    }&#10;                },&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            if (isSelected) {&#10;                Icon(&#10;                    imageVector = Icons.Filled.Check,&#10;                    contentDescription = &quot;Selected&quot;,&#10;                    tint = greenColor,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;        }&#10;&#10;        Column(&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            verticalArrangement = Arrangement.Center,&#10;            modifier = Modifier.fillMaxSize()&#10;        ) {&#10;            // Icon Circle with Border&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(100.dp)&#10;                    .clip(CircleShape)&#10;                    .background(Color.Transparent)&#10;                    .drawBehind {&#10;                        drawCircle(&#10;                            color = if (isSelected) Color(0x40FFFFFF) else lightYellowColor,&#10;                            style = Stroke(width = 16f)&#10;                        )&#10;                    },&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Box(&#10;                    modifier = Modifier&#10;                        .size(80.dp)&#10;                        .clip(CircleShape)&#10;                        .background(if (isSelected) Color.White else yellowColor),&#10;                    contentAlignment = Alignment.Center&#10;                ) {&#10;                    Image(&#10;                        painter = painterResource(id = iconRes),&#10;                        contentDescription = title,&#10;                        modifier = Modifier.size(60.dp),&#10;                        contentScale = ContentScale.Fit&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;&#10;            // Title&#10;            Text(&#10;                text = title,&#10;                fontSize = 24.sp,&#10;                fontWeight = FontWeight.Normal,&#10;                color = if (isSelected) Color.White else yellowColor,&#10;                textAlign = TextAlign.Center&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Preview(&#10;    name = &quot;TutorialActivityCard Unselected&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFFFFFFFF&#10;)&#10;@Composable&#10;fun TutorialActivityCardPreview() {&#10;    MaterialTheme {&#10;        TutorialActivityCard(&#10;            title = &quot;Vowels&quot;,&#10;            iconRes = R.drawable.ic_apple,&#10;            isSelected = false,&#10;            onClick = {}&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(&#10;    name = &quot;TutorialActivityCard Selected&quot;,&#10;    showBackground = true,&#10;    backgroundColor = 0xFFFFFFFF&#10;)&#10;@Composable&#10;fun TutorialActivityCardSelectedPreview() {&#10;    MaterialTheme {&#10;        TutorialActivityCard(&#10;            title = &quot;Vowels&quot;,&#10;            iconRes = R.drawable.ic_apple,&#10;            isSelected = true,&#10;            onClick = {}&#10;        )&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_watch_temp.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_watch_temp.xml" />
              <option name="updatedContent" value="&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;960&quot;&#10;    android:viewportHeight=&quot;960&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#000000&quot;&#10;        android:pathData=&quot;M420,160h120,-120ZM420,800h120,-120ZM360,880l-54,-182q-48,-38 -77,-95t-29,-123q0,-66 29,-123t77,-95l54,-182h240l54,182q48,38 77,95t29,123q0,66 -29,123t-77,95L600,880L360,880ZM480,680q83,0 141.5,-58.5T680,480q0,-83 -58.5,-141.5T480,320q-83,0 -141.5,58.5T280,480q0,83 58.5,141.5T480,680ZM404,210q20,-5 38.5,-8t37.5,-3q19,0 37.5,3t38.5,8l-16,-50L420,160l-16,50ZM420,800h120l16,-50q-20,5 -38.5,7.5T480,760q-19,0 -37.5,-2.5T404,750l16,50Z&quot;/&gt;&#10;&lt;/vector&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/wear/build.gradle.kts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/wear/build.gradle.kts" />
              <option name="originalContent" value="plugins {&#10;    alias(libs.plugins.android.application)&#10;    alias(libs.plugins.kotlin.android)&#10;    alias(libs.plugins.kotlin.compose)&#10;}&#10;&#10;android {&#10;    namespace = &quot;com.example.kusho&quot;&#10;    compileSdk {&#10;        version = release(36)&#10;    }&#10;&#10;    defaultConfig {&#10;        applicationId = &quot;com.example.kusho&quot;&#10;        minSdk = 30&#10;        targetSdk = 36&#10;        versionCode = 1&#10;        versionName = &quot;1.0&quot;&#10;        &#10;        ndk {&#10;            abiFilters.add(&quot;armeabi-v7a&quot;)&#10;            abiFilters.add(&quot;arm64-v8a&quot;)&#10;            abiFilters.add(&quot;x86&quot;)&#10;            abiFilters.add(&quot;x86_64&quot;)&#10;        }&#10;    }&#10;&#10;    buildTypes {&#10;        release {&#10;            isMinifyEnabled = false&#10;            proguardFiles(&#10;                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),&#10;                &quot;proguard-rules.pro&quot;&#10;            )&#10;        }&#10;    }&#10;    compileOptions {&#10;        sourceCompatibility = JavaVersion.VERSION_11&#10;        targetCompatibility = JavaVersion.VERSION_11&#10;    }&#10;    kotlinOptions {&#10;        jvmTarget = &quot;11&quot;&#10;    }&#10;    useLibrary(&quot;wear-sdk&quot;)&#10;    buildFeatures {&#10;        compose = true&#10;    }&#10;    aaptOptions {&#10;        noCompress(&quot;tflite&quot;)&#10;    }&#10;}&#10;&#10;dependencies {&#10;    implementation(project(&quot;:common&quot;))&#10;    implementation(platform(libs.compose.bom))&#10;    implementation(libs.ui)&#10;    implementation(libs.ui.graphics)&#10;    implementation(libs.ui.tooling.preview)&#10;    implementation(libs.compose.material)&#10;    implementation(libs.compose.foundation)&#10;    implementation(libs.wear.tooling.preview)&#10;    implementation(libs.activity.compose)&#10;    implementation(libs.core.splashscreen)&#10;    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.10.2&quot;)&#10;    implementation(&quot;androidx.wear.compose:compose-navigation:1.3.0&quot;)&#10;    implementation(&quot;androidx.navigation:navigation-compose:2.7.6&quot;)&#10;    &#10;&#10;    implementation(&quot;org.tensorflow:tensorflow-lite:2.17.0&quot;)&#10;    implementation(&quot;org.tensorflow:tensorflow-lite-select-tf-ops:2.16.1&quot;)&#10;&#10;    androidTestImplementation(platform(libs.compose.bom))&#10;    androidTestImplementation(libs.ui.test.junit4)&#10;    debugImplementation(libs.ui.tooling)&#10;    debugImplementation(libs.ui.test.manifest)&#10;}" />
              <option name="updatedContent" value="plugins {&#10;    alias(libs.plugins.android.application)&#10;    alias(libs.plugins.kotlin.android)&#10;    alias(libs.plugins.kotlin.compose)&#10;}&#10;&#10;android {&#10;    namespace = &quot;com.example.kusho&quot;&#10;    compileSdk {&#10;        version = release(36)&#10;    }&#10;&#10;    defaultConfig {&#10;        applicationId = &quot;com.example.kusho&quot;&#10;        minSdk = 30&#10;        targetSdk = 36&#10;        versionCode = 1&#10;        versionName = &quot;1.0&quot;&#10;        &#10;        ndk {&#10;            abiFilters.add(&quot;armeabi-v7a&quot;)&#10;            abiFilters.add(&quot;arm64-v8a&quot;)&#10;            abiFilters.add(&quot;x86&quot;)&#10;            abiFilters.add(&quot;x86_64&quot;)&#10;        }&#10;    }&#10;&#10;    buildTypes {&#10;        release {&#10;            isMinifyEnabled = false&#10;            proguardFiles(&#10;                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),&#10;                &quot;proguard-rules.pro&quot;&#10;            )&#10;        }&#10;    }&#10;    compileOptions {&#10;        sourceCompatibility = JavaVersion.VERSION_11&#10;        targetCompatibility = JavaVersion.VERSION_11&#10;    }&#10;    kotlinOptions {&#10;        jvmTarget = &quot;11&quot;&#10;    }&#10;    useLibrary(&quot;wear-sdk&quot;)&#10;    buildFeatures {&#10;        compose = true&#10;    }&#10;    aaptOptions {&#10;        noCompress(&quot;tflite&quot;)&#10;    }&#10;}&#10;&#10;dependencies {&#10;    implementation(project(&quot;:common&quot;))&#10;    implementation(platform(libs.compose.bom))&#10;    implementation(libs.ui)&#10;    implementation(libs.ui.graphics)&#10;    implementation(libs.ui.tooling.preview)&#10;    implementation(libs.compose.material)&#10;    implementation(libs.compose.foundation)&#10;    implementation(libs.wear.tooling.preview)&#10;    implementation(libs.activity.compose)&#10;    implementation(libs.core.splashscreen)&#10;    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.10.2&quot;)&#10;    implementation(&quot;androidx.wear.compose:compose-navigation:1.3.0&quot;)&#10;    implementation(&quot;androidx.navigation:navigation-compose:2.7.6&quot;)&#10;    &#10;&#10;    implementation(&quot;org.tensorflow:tensorflow-lite:2.17.0&quot;)&#10;    implementation(&quot;org.tensorflow:tensorflow-lite-select-tf-ops:2.16.1&quot;)&#10;&#10;    androidTestImplementation(platform(libs.compose.bom))&#10;    androidTestImplementation(libs.ui.test.junit4)&#10;    debugImplementation(libs.ui.tooling)&#10;    debugImplementation(libs.ui.test.manifest)&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>